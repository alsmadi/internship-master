{"ast":null,"code":"import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.index-of\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.splice\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.keys\";\nimport \"core-js/modules/es.object.set-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get(target, property, receiver || target);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nimport { objectEach } from '../../helpers/object';\nimport { arrayEach } from '../../helpers/array';\nimport { rangeEach } from '../../helpers/number';\nimport { warn } from '../../helpers/console';\nimport { addClass, hasClass, fastInnerText } from '../../helpers/dom/element';\nimport EventManager from '../../eventManager';\nimport { registerPlugin } from '../../plugins';\nimport { stopImmediatePropagation } from '../../helpers/dom/event';\nimport BasePlugin from '../_base';\n/**\n * @plugin CollapsibleColumns\n * @dependencies NestedHeaders HiddenColumns\n *\n * @description\n * The {@link CollapsibleColumns} plugin allows collapsing of columns, covered by a header with the `colspan` property defined.\n *\n * Clicking the \"collapse/expand\" button collapses (or expands) all \"child\" headers except the first one.\n *\n * Setting the {@link Options#collapsibleColumns} property to `true` will display a \"collapse/expand\" button in every header\n * with a defined `colspan` property.\n *\n * To limit this functionality to a smaller group of headers, define the `collapsibleColumns` property as an array\n * of objects, as in the example below.\n *\n * @example\n * ```js\n * const container = document.getElementById('example');\n * const hot = new Handsontable(container, {\n *   data: generateDataObj(),\n *   colHeaders: true,\n *   rowHeaders: true,\n *   // enable plugin\n *   collapsibleColumns: true,\n * });\n *\n * // or\n * const hot = new Handsontable(container, {\n *   data: generateDataObj(),\n *   colHeaders: true,\n *   rowHeaders: true,\n *   // enable and configure which columns can be collapsed\n *   collapsibleColumns: [\n *     {row: -4, col: 1, collapsible: true},\n *     {row: -3, col: 5, collapsible: true}\n *   ],\n * });\n * ```\n */\n\nvar CollapsibleColumns = /*#__PURE__*/\nfunction (_BasePlugin) {\n  _inherits(CollapsibleColumns, _BasePlugin);\n  function CollapsibleColumns(hotInstance) {\n    var _this;\n    _classCallCheck(this, CollapsibleColumns);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CollapsibleColumns).call(this, hotInstance));\n    /**\n     * Cached plugin settings.\n     *\n     * @private\n     * @type {Boolean|Array}\n     */\n\n    _this.settings = null;\n    /**\n     * Object listing headers with buttons enabled.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.buttonEnabledList = {};\n    /**\n     * Cached reference to the HiddenColumns plugin.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.hiddenColumnsPlugin = null;\n    /**\n     * Cached reference to the NestedHeaders plugin.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.nestedHeadersPlugin = null;\n    /**\n     * Object listing the currently collapsed sections.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.collapsedSections = {};\n    /**\n     * Number of column header levels.\n     *\n     * @private\n     * @type {Number}\n     */\n\n    _this.columnHeaderLevelCount = null;\n    /**\n     * Event manager instance reference.\n     *\n     * @private\n     * @type {EventManager}\n     */\n\n    _this.eventManager = null;\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` than the {@link CollapsibleColumns#enablePlugin} method is called.\n   *\n   * @returns {Boolean}\n   */\n\n  _createClass(CollapsibleColumns, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return !!this.hot.getSettings().collapsibleColumns;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n      if (this.enabled) {\n        return;\n      }\n      this.settings = this.hot.getSettings().collapsibleColumns;\n      if (typeof this.settings !== 'boolean') {\n        this.parseSettings();\n      }\n      this.hiddenColumnsPlugin = this.hot.getPlugin('hiddenColumns');\n      this.nestedHeadersPlugin = this.hot.getPlugin('nestedHeaders');\n      this.checkDependencies();\n      this.addHook('afterRender', function () {\n        return _this2.onAfterRender();\n      });\n      this.addHook('afterInit', function () {\n        return _this2.onAfterInit();\n      });\n      this.addHook('afterGetColHeader', function (col, TH) {\n        return _this2.onAfterGetColHeader(col, TH);\n      });\n      this.addHook('beforeOnCellMouseDown', function (event, coords, TD) {\n        return _this2.onBeforeOnCellMouseDown(event, coords, TD);\n      });\n      this.eventManager = new EventManager(this.hot);\n      _get(_getPrototypeOf(CollapsibleColumns.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      this.settings = null;\n      this.buttonEnabledList = {};\n      this.hiddenColumnsPlugin = null;\n      this.collapsedSections = {};\n      this.clearButtons();\n      _get(_getPrototypeOf(CollapsibleColumns.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Clears the expand/collapse buttons.\n     *\n     * @private\n     */\n  }, {\n    key: \"clearButtons\",\n    value: function clearButtons() {\n      if (!this.hot.view) {\n        return;\n      }\n      var headerLevels = this.hot.view.wt.getSetting('columnHeaders').length;\n      var mainHeaders = this.hot.view.wt.wtTable.THEAD;\n      var topHeaders = this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD;\n      var topLeftCornerHeaders = this.hot.view.wt.wtOverlays.topLeftCornerOverlay ? this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD : null;\n      var removeButton = function removeButton(button) {\n        if (button) {\n          button.parentNode.removeChild(button);\n        }\n      };\n      rangeEach(0, headerLevels - 1, function (i) {\n        var masterLevel = mainHeaders.childNodes[i];\n        var topLevel = topHeaders.childNodes[i];\n        var topLeftCornerLevel = topLeftCornerHeaders ? topLeftCornerHeaders.childNodes[i] : null;\n        rangeEach(0, masterLevel.childNodes.length - 1, function (j) {\n          var button = masterLevel.childNodes[j].querySelector('.collapsibleIndicator');\n          removeButton(button);\n          if (topLevel && topLevel.childNodes[j]) {\n            button = topLevel.childNodes[j].querySelector('.collapsibleIndicator');\n            removeButton(button);\n          }\n          if (topLeftCornerHeaders && topLeftCornerLevel && topLeftCornerLevel.childNodes[j]) {\n            button = topLeftCornerLevel.childNodes[j].querySelector('.collapsibleIndicator');\n            removeButton(button);\n          }\n        });\n      }, true);\n    }\n    /**\n     * Parses the plugin settings and create a button configuration array.\n     *\n     * @private\n     */\n  }, {\n    key: \"parseSettings\",\n    value: function parseSettings() {\n      var _this3 = this;\n      objectEach(this.settings, function (val) {\n        if (!_this3.buttonEnabledList[val.row]) {\n          _this3.buttonEnabledList[val.row] = {};\n        }\n        _this3.buttonEnabledList[val.row][val.col] = val.collapsible;\n      });\n    }\n    /**\n     * Checks if plugin dependencies are met.\n     *\n     * @private\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"meetsDependencies\",\n    value: function meetsDependencies() {\n      var settings = this.hot.getSettings();\n      return settings.nestedHeaders && settings.hiddenColumns;\n    }\n    /**\n     * Checks if all the required dependencies are enabled.\n     *\n     * @private\n     */\n  }, {\n    key: \"checkDependencies\",\n    value: function checkDependencies() {\n      var settings = this.hot.getSettings();\n      if (this.meetsDependencies()) {\n        return;\n      }\n      if (!settings.nestedHeaders) {\n        warn('You need to configure the Nested Headers plugin in order to use collapsible headers.');\n      }\n      if (!settings.hiddenColumns) {\n        warn('You need to configure the Hidden Columns plugin in order to use collapsible headers.');\n      }\n    }\n    /**\n     * Generates the indicator element.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {HTMLElement} TH TH Element.\n     * @returns {HTMLElement}\n     */\n  }, {\n    key: \"generateIndicator\",\n    value: function generateIndicator(column, TH) {\n      var TR = TH.parentNode;\n      var THEAD = TR.parentNode;\n      var row = -1 * THEAD.childNodes.length + Array.prototype.indexOf.call(THEAD.childNodes, TR);\n      if (Object.keys(this.buttonEnabledList).length > 0 && (!this.buttonEnabledList[row] || !this.buttonEnabledList[row][column])) {\n        return null;\n      }\n      var divEl = this.hot.rootDocument.createElement('DIV');\n      addClass(divEl, 'collapsibleIndicator');\n      if (this.collapsedSections[row] && this.collapsedSections[row][column] === true) {\n        addClass(divEl, 'collapsed');\n        fastInnerText(divEl, '+');\n      } else {\n        addClass(divEl, 'expanded');\n        fastInnerText(divEl, '-');\n      }\n      return divEl;\n    }\n    /**\n     * Marks (internally) a section as 'collapsed' or 'expanded' (optionally, also mark the 'child' headers).\n     *\n     * @private\n     * @param {String} state State ('collapsed' or 'expanded').\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @param {Boolean} recursive If `true`, it will also attempt to mark the child sections.\n     */\n  }, {\n    key: \"markSectionAs\",\n    value: function markSectionAs(state, row, column, recursive) {\n      if (!this.collapsedSections[row]) {\n        this.collapsedSections[row] = {};\n      }\n      switch (state) {\n        case 'collapsed':\n          this.collapsedSections[row][column] = true;\n          break;\n        case 'expanded':\n          this.collapsedSections[row][column] = void 0;\n          break;\n        default:\n          break;\n      }\n      if (recursive) {\n        var nestedHeadersColspans = this.nestedHeadersPlugin.colspanArray;\n        var level = this.nestedHeadersPlugin.rowCoordsToLevel(row);\n        var childHeaders = this.nestedHeadersPlugin.getChildHeaders(row, column);\n        var childColspanLevel = nestedHeadersColspans[level + 1];\n        for (var i = 1; i < childHeaders.length; i++) {\n          if (childColspanLevel && childColspanLevel[childHeaders[i]].colspan > 1) {\n            this.markSectionAs(state, row + 1, childHeaders[i], true);\n          }\n        }\n      }\n    }\n    /**\n     * Expands section at the provided coords.\n     *\n     * @param {Object} coords Contains coordinates information. (`coords.row`, `coords.col`)\n     */\n  }, {\n    key: \"expandSection\",\n    value: function expandSection(coords) {\n      this.markSectionAs('expanded', coords.row, coords.col, true);\n      this.toggleCollapsibleSection(coords, 'expand');\n    }\n    /**\n     * Collapses section at the provided coords.\n     *\n     * @param {Object} coords Contains coordinates information. (`coords.row`, `coords.col`)\n     */\n  }, {\n    key: \"collapseSection\",\n    value: function collapseSection(coords) {\n      this.markSectionAs('collapsed', coords.row, coords.col, true);\n      this.toggleCollapsibleSection(coords, 'collapse');\n    }\n    /**\n     * Collapses or expand all collapsible sections, depending on the action parameter.\n     *\n     * @param {String} action 'collapse' or 'expand'.\n     */\n  }, {\n    key: \"toggleAllCollapsibleSections\",\n    value: function toggleAllCollapsibleSections(action) {\n      var _this4 = this;\n      var nestedHeadersColspanArray = this.nestedHeadersPlugin.colspanArray;\n      if (this.settings === true) {\n        arrayEach(nestedHeadersColspanArray, function (headerLevel, i) {\n          arrayEach(headerLevel, function (header, j) {\n            if (header.colspan > 1) {\n              var row = _this4.nestedHeadersPlugin.levelToRowCoords(parseInt(i, 10));\n              var col = parseInt(j, 10);\n              _this4.markSectionAs(action === 'collapse' ? 'collapsed' : 'expanded', row, col, true);\n              _this4.toggleCollapsibleSection({\n                row: row,\n                col: col\n              }, action);\n            }\n          });\n        });\n      } else {\n        objectEach(this.buttonEnabledList, function (headerRow, i) {\n          objectEach(headerRow, function (header, j) {\n            var rowIndex = parseInt(i, 10);\n            var columnIndex = parseInt(j, 10);\n            _this4.markSectionAs(action === 'collapse' ? 'collapsed' : 'expanded', rowIndex, columnIndex, true);\n            _this4.toggleCollapsibleSection({\n              row: rowIndex,\n              col: columnIndex\n            }, action);\n          });\n        });\n      }\n    }\n    /**\n     * Collapses all collapsible sections.\n     */\n  }, {\n    key: \"collapseAll\",\n    value: function collapseAll() {\n      this.toggleAllCollapsibleSections('collapse');\n    }\n    /**\n     * Expands all collapsible sections.\n     */\n  }, {\n    key: \"expandAll\",\n    value: function expandAll() {\n      this.toggleAllCollapsibleSections('expand');\n    }\n    /**\n     * Collapses/Expands a section.\n     *\n     * @param {Object} coords Section coordinates.\n     * @param {String} action Action definition ('collapse' or 'expand').\n     */\n  }, {\n    key: \"toggleCollapsibleSection\",\n    value: function toggleCollapsibleSection(coords, action) {\n      var _this5 = this;\n      if (coords.row) {\n        coords.row = parseInt(coords.row, 10);\n      }\n      if (coords.col) {\n        coords.col = parseInt(coords.col, 10);\n      }\n      var hiddenColumns = this.hiddenColumnsPlugin.hiddenColumns;\n      var colspanArray = this.nestedHeadersPlugin.colspanArray;\n      var level = this.nestedHeadersPlugin.rowCoordsToLevel(coords.row);\n      var currentHeaderColspan = colspanArray[level][coords.col].colspan;\n      var childHeaders = this.nestedHeadersPlugin.getChildHeaders(coords.row, coords.col);\n      var nextLevel = level + 1;\n      var childColspanLevel = colspanArray[nextLevel];\n      var firstChildColspan = childColspanLevel ? childColspanLevel[childHeaders[0]].colspan || 1 : 1;\n      while (firstChildColspan === currentHeaderColspan && nextLevel < this.columnHeaderLevelCount) {\n        nextLevel += 1;\n        childColspanLevel = colspanArray[nextLevel];\n        firstChildColspan = childColspanLevel ? childColspanLevel[childHeaders[0]].colspan || 1 : 1;\n      }\n      rangeEach(firstChildColspan, currentHeaderColspan - 1, function (i) {\n        var colToHide = coords.col + i;\n        switch (action) {\n          case 'collapse':\n            if (!_this5.hiddenColumnsPlugin.isHidden(colToHide)) {\n              hiddenColumns.push(colToHide);\n            }\n            break;\n          case 'expand':\n            if (_this5.hiddenColumnsPlugin.isHidden(colToHide)) {\n              hiddenColumns.splice(hiddenColumns.indexOf(colToHide), 1);\n            }\n            break;\n          default:\n            break;\n        }\n      });\n      this.hot.render();\n      this.hot.view.wt.wtOverlays.adjustElementsSize(true);\n    }\n    /**\n     * Adds the indicator to the headers.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {HTMLElement} TH TH element.\n     */\n  }, {\n    key: \"onAfterGetColHeader\",\n    value: function onAfterGetColHeader(column, TH) {\n      if (TH.hasAttribute('colspan') && TH.getAttribute('colspan') > 1 && column >= this.hot.getSettings().fixedColumnsLeft) {\n        var button = this.generateIndicator(column, TH);\n        if (button !== null) {\n          TH.querySelector('div:first-child').appendChild(button);\n        }\n      }\n    }\n    /**\n     * Indicator mouse event callback.\n     *\n     * @private\n     * @param {Object} event Mouse event.\n     * @param {Object} coords Event coordinates.\n     */\n  }, {\n    key: \"onBeforeOnCellMouseDown\",\n    value: function onBeforeOnCellMouseDown(event, coords) {\n      if (hasClass(event.target, 'collapsibleIndicator')) {\n        if (hasClass(event.target, 'expanded')) {\n          // mark section as collapsed\n          if (!this.collapsedSections[coords.row]) {\n            this.collapsedSections[coords.row] = [];\n          }\n          this.markSectionAs('collapsed', coords.row, coords.col, true);\n          this.eventManager.fireEvent(event.target, 'mouseup');\n          this.toggleCollapsibleSection(coords, 'collapse');\n        } else if (hasClass(event.target, 'collapsed')) {\n          this.markSectionAs('expanded', coords.row, coords.col, true);\n          this.eventManager.fireEvent(event.target, 'mouseup');\n          this.toggleCollapsibleSection(coords, 'expand');\n        }\n        stopImmediatePropagation(event);\n        return false;\n      }\n    }\n    /**\n     * AfterInit hook callback.\n     *\n     * @private\n     */\n  }, {\n    key: \"onAfterInit\",\n    value: function onAfterInit() {\n      this.columnHeaderLevelCount = this.hot.view.wt.getSetting('columnHeaders').length;\n    }\n    /**\n     * AfterRender hook callback.\n     *\n     * @private\n     */\n  }, {\n    key: \"onAfterRender\",\n    value: function onAfterRender() {\n      if (!this.nestedHeadersPlugin.enabled || !this.hiddenColumnsPlugin.enabled) {\n        this.disablePlugin();\n      }\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.settings = null;\n      this.buttonEnabledList = null;\n      this.hiddenColumnsPlugin = null;\n      this.nestedHeadersPlugin = null;\n      this.collapsedSections = null;\n      this.columnHeaderLevelCount = null;\n      _get(_getPrototypeOf(CollapsibleColumns.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n  return CollapsibleColumns;\n}(BasePlugin);\nregisterPlugin('collapsibleColumns', CollapsibleColumns);\nexport default CollapsibleColumns;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","objectEach","arrayEach","rangeEach","warn","addClass","hasClass","fastInnerText","EventManager","registerPlugin","stopImmediatePropagation","BasePlugin","CollapsibleColumns","_BasePlugin","hotInstance","_this","settings","buttonEnabledList","hiddenColumnsPlugin","nestedHeadersPlugin","collapsedSections","columnHeaderLevelCount","eventManager","isEnabled","hot","getSettings","collapsibleColumns","enablePlugin","_this2","enabled","parseSettings","getPlugin","checkDependencies","addHook","onAfterRender","onAfterInit","col","TH","onAfterGetColHeader","event","coords","TD","onBeforeOnCellMouseDown","disablePlugin","clearButtons","view","headerLevels","wt","getSetting","mainHeaders","wtTable","THEAD","topHeaders","wtOverlays","topOverlay","clone","topLeftCornerHeaders","topLeftCornerOverlay","removeButton","button","parentNode","removeChild","masterLevel","childNodes","topLevel","topLeftCornerLevel","j","querySelector","_this3","val","row","collapsible","meetsDependencies","nestedHeaders","hiddenColumns","generateIndicator","column","TR","Array","indexOf","keys","divEl","rootDocument","createElement","markSectionAs","state","recursive","nestedHeadersColspans","colspanArray","level","rowCoordsToLevel","childHeaders","getChildHeaders","childColspanLevel","colspan","expandSection","toggleCollapsibleSection","collapseSection","toggleAllCollapsibleSections","action","_this4","nestedHeadersColspanArray","headerLevel","header","levelToRowCoords","parseInt","headerRow","rowIndex","columnIndex","collapseAll","expandAll","_this5","currentHeaderColspan","nextLevel","firstChildColspan","colToHide","isHidden","push","splice","render","adjustElementsSize","hasAttribute","getAttribute","fixedColumnsLeft","appendChild","fireEvent","destroy"],"sources":["C:/Users/mrezy/VSCode/internships-master/node_modules/handsontable/es/plugins/collapsibleColumns/collapsibleColumns.js"],"sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.index-of\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.splice\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.keys\";\nimport \"core-js/modules/es.object.set-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { objectEach } from '../../helpers/object';\nimport { arrayEach } from '../../helpers/array';\nimport { rangeEach } from '../../helpers/number';\nimport { warn } from '../../helpers/console';\nimport { addClass, hasClass, fastInnerText } from '../../helpers/dom/element';\nimport EventManager from '../../eventManager';\nimport { registerPlugin } from '../../plugins';\nimport { stopImmediatePropagation } from '../../helpers/dom/event';\nimport BasePlugin from '../_base';\n/**\n * @plugin CollapsibleColumns\n * @dependencies NestedHeaders HiddenColumns\n *\n * @description\n * The {@link CollapsibleColumns} plugin allows collapsing of columns, covered by a header with the `colspan` property defined.\n *\n * Clicking the \"collapse/expand\" button collapses (or expands) all \"child\" headers except the first one.\n *\n * Setting the {@link Options#collapsibleColumns} property to `true` will display a \"collapse/expand\" button in every header\n * with a defined `colspan` property.\n *\n * To limit this functionality to a smaller group of headers, define the `collapsibleColumns` property as an array\n * of objects, as in the example below.\n *\n * @example\n * ```js\n * const container = document.getElementById('example');\n * const hot = new Handsontable(container, {\n *   data: generateDataObj(),\n *   colHeaders: true,\n *   rowHeaders: true,\n *   // enable plugin\n *   collapsibleColumns: true,\n * });\n *\n * // or\n * const hot = new Handsontable(container, {\n *   data: generateDataObj(),\n *   colHeaders: true,\n *   rowHeaders: true,\n *   // enable and configure which columns can be collapsed\n *   collapsibleColumns: [\n *     {row: -4, col: 1, collapsible: true},\n *     {row: -3, col: 5, collapsible: true}\n *   ],\n * });\n * ```\n */\n\nvar CollapsibleColumns =\n/*#__PURE__*/\nfunction (_BasePlugin) {\n  _inherits(CollapsibleColumns, _BasePlugin);\n\n  function CollapsibleColumns(hotInstance) {\n    var _this;\n\n    _classCallCheck(this, CollapsibleColumns);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CollapsibleColumns).call(this, hotInstance));\n    /**\n     * Cached plugin settings.\n     *\n     * @private\n     * @type {Boolean|Array}\n     */\n\n    _this.settings = null;\n    /**\n     * Object listing headers with buttons enabled.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.buttonEnabledList = {};\n    /**\n     * Cached reference to the HiddenColumns plugin.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.hiddenColumnsPlugin = null;\n    /**\n     * Cached reference to the NestedHeaders plugin.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.nestedHeadersPlugin = null;\n    /**\n     * Object listing the currently collapsed sections.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.collapsedSections = {};\n    /**\n     * Number of column header levels.\n     *\n     * @private\n     * @type {Number}\n     */\n\n    _this.columnHeaderLevelCount = null;\n    /**\n     * Event manager instance reference.\n     *\n     * @private\n     * @type {EventManager}\n     */\n\n    _this.eventManager = null;\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` than the {@link CollapsibleColumns#enablePlugin} method is called.\n   *\n   * @returns {Boolean}\n   */\n\n\n  _createClass(CollapsibleColumns, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return !!this.hot.getSettings().collapsibleColumns;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n\n      if (this.enabled) {\n        return;\n      }\n\n      this.settings = this.hot.getSettings().collapsibleColumns;\n\n      if (typeof this.settings !== 'boolean') {\n        this.parseSettings();\n      }\n\n      this.hiddenColumnsPlugin = this.hot.getPlugin('hiddenColumns');\n      this.nestedHeadersPlugin = this.hot.getPlugin('nestedHeaders');\n      this.checkDependencies();\n      this.addHook('afterRender', function () {\n        return _this2.onAfterRender();\n      });\n      this.addHook('afterInit', function () {\n        return _this2.onAfterInit();\n      });\n      this.addHook('afterGetColHeader', function (col, TH) {\n        return _this2.onAfterGetColHeader(col, TH);\n      });\n      this.addHook('beforeOnCellMouseDown', function (event, coords, TD) {\n        return _this2.onBeforeOnCellMouseDown(event, coords, TD);\n      });\n      this.eventManager = new EventManager(this.hot);\n\n      _get(_getPrototypeOf(CollapsibleColumns.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      this.settings = null;\n      this.buttonEnabledList = {};\n      this.hiddenColumnsPlugin = null;\n      this.collapsedSections = {};\n      this.clearButtons();\n\n      _get(_getPrototypeOf(CollapsibleColumns.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Clears the expand/collapse buttons.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"clearButtons\",\n    value: function clearButtons() {\n      if (!this.hot.view) {\n        return;\n      }\n\n      var headerLevels = this.hot.view.wt.getSetting('columnHeaders').length;\n      var mainHeaders = this.hot.view.wt.wtTable.THEAD;\n      var topHeaders = this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD;\n      var topLeftCornerHeaders = this.hot.view.wt.wtOverlays.topLeftCornerOverlay ? this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD : null;\n\n      var removeButton = function removeButton(button) {\n        if (button) {\n          button.parentNode.removeChild(button);\n        }\n      };\n\n      rangeEach(0, headerLevels - 1, function (i) {\n        var masterLevel = mainHeaders.childNodes[i];\n        var topLevel = topHeaders.childNodes[i];\n        var topLeftCornerLevel = topLeftCornerHeaders ? topLeftCornerHeaders.childNodes[i] : null;\n        rangeEach(0, masterLevel.childNodes.length - 1, function (j) {\n          var button = masterLevel.childNodes[j].querySelector('.collapsibleIndicator');\n          removeButton(button);\n\n          if (topLevel && topLevel.childNodes[j]) {\n            button = topLevel.childNodes[j].querySelector('.collapsibleIndicator');\n            removeButton(button);\n          }\n\n          if (topLeftCornerHeaders && topLeftCornerLevel && topLeftCornerLevel.childNodes[j]) {\n            button = topLeftCornerLevel.childNodes[j].querySelector('.collapsibleIndicator');\n            removeButton(button);\n          }\n        });\n      }, true);\n    }\n    /**\n     * Parses the plugin settings and create a button configuration array.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"parseSettings\",\n    value: function parseSettings() {\n      var _this3 = this;\n\n      objectEach(this.settings, function (val) {\n        if (!_this3.buttonEnabledList[val.row]) {\n          _this3.buttonEnabledList[val.row] = {};\n        }\n\n        _this3.buttonEnabledList[val.row][val.col] = val.collapsible;\n      });\n    }\n    /**\n     * Checks if plugin dependencies are met.\n     *\n     * @private\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"meetsDependencies\",\n    value: function meetsDependencies() {\n      var settings = this.hot.getSettings();\n      return settings.nestedHeaders && settings.hiddenColumns;\n    }\n    /**\n     * Checks if all the required dependencies are enabled.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"checkDependencies\",\n    value: function checkDependencies() {\n      var settings = this.hot.getSettings();\n\n      if (this.meetsDependencies()) {\n        return;\n      }\n\n      if (!settings.nestedHeaders) {\n        warn('You need to configure the Nested Headers plugin in order to use collapsible headers.');\n      }\n\n      if (!settings.hiddenColumns) {\n        warn('You need to configure the Hidden Columns plugin in order to use collapsible headers.');\n      }\n    }\n    /**\n     * Generates the indicator element.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {HTMLElement} TH TH Element.\n     * @returns {HTMLElement}\n     */\n\n  }, {\n    key: \"generateIndicator\",\n    value: function generateIndicator(column, TH) {\n      var TR = TH.parentNode;\n      var THEAD = TR.parentNode;\n      var row = -1 * THEAD.childNodes.length + Array.prototype.indexOf.call(THEAD.childNodes, TR);\n\n      if (Object.keys(this.buttonEnabledList).length > 0 && (!this.buttonEnabledList[row] || !this.buttonEnabledList[row][column])) {\n        return null;\n      }\n\n      var divEl = this.hot.rootDocument.createElement('DIV');\n      addClass(divEl, 'collapsibleIndicator');\n\n      if (this.collapsedSections[row] && this.collapsedSections[row][column] === true) {\n        addClass(divEl, 'collapsed');\n        fastInnerText(divEl, '+');\n      } else {\n        addClass(divEl, 'expanded');\n        fastInnerText(divEl, '-');\n      }\n\n      return divEl;\n    }\n    /**\n     * Marks (internally) a section as 'collapsed' or 'expanded' (optionally, also mark the 'child' headers).\n     *\n     * @private\n     * @param {String} state State ('collapsed' or 'expanded').\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @param {Boolean} recursive If `true`, it will also attempt to mark the child sections.\n     */\n\n  }, {\n    key: \"markSectionAs\",\n    value: function markSectionAs(state, row, column, recursive) {\n      if (!this.collapsedSections[row]) {\n        this.collapsedSections[row] = {};\n      }\n\n      switch (state) {\n        case 'collapsed':\n          this.collapsedSections[row][column] = true;\n          break;\n\n        case 'expanded':\n          this.collapsedSections[row][column] = void 0;\n          break;\n\n        default:\n          break;\n      }\n\n      if (recursive) {\n        var nestedHeadersColspans = this.nestedHeadersPlugin.colspanArray;\n        var level = this.nestedHeadersPlugin.rowCoordsToLevel(row);\n        var childHeaders = this.nestedHeadersPlugin.getChildHeaders(row, column);\n        var childColspanLevel = nestedHeadersColspans[level + 1];\n\n        for (var i = 1; i < childHeaders.length; i++) {\n          if (childColspanLevel && childColspanLevel[childHeaders[i]].colspan > 1) {\n            this.markSectionAs(state, row + 1, childHeaders[i], true);\n          }\n        }\n      }\n    }\n    /**\n     * Expands section at the provided coords.\n     *\n     * @param {Object} coords Contains coordinates information. (`coords.row`, `coords.col`)\n     */\n\n  }, {\n    key: \"expandSection\",\n    value: function expandSection(coords) {\n      this.markSectionAs('expanded', coords.row, coords.col, true);\n      this.toggleCollapsibleSection(coords, 'expand');\n    }\n    /**\n     * Collapses section at the provided coords.\n     *\n     * @param {Object} coords Contains coordinates information. (`coords.row`, `coords.col`)\n     */\n\n  }, {\n    key: \"collapseSection\",\n    value: function collapseSection(coords) {\n      this.markSectionAs('collapsed', coords.row, coords.col, true);\n      this.toggleCollapsibleSection(coords, 'collapse');\n    }\n    /**\n     * Collapses or expand all collapsible sections, depending on the action parameter.\n     *\n     * @param {String} action 'collapse' or 'expand'.\n     */\n\n  }, {\n    key: \"toggleAllCollapsibleSections\",\n    value: function toggleAllCollapsibleSections(action) {\n      var _this4 = this;\n\n      var nestedHeadersColspanArray = this.nestedHeadersPlugin.colspanArray;\n\n      if (this.settings === true) {\n        arrayEach(nestedHeadersColspanArray, function (headerLevel, i) {\n          arrayEach(headerLevel, function (header, j) {\n            if (header.colspan > 1) {\n              var row = _this4.nestedHeadersPlugin.levelToRowCoords(parseInt(i, 10));\n\n              var col = parseInt(j, 10);\n\n              _this4.markSectionAs(action === 'collapse' ? 'collapsed' : 'expanded', row, col, true);\n\n              _this4.toggleCollapsibleSection({\n                row: row,\n                col: col\n              }, action);\n            }\n          });\n        });\n      } else {\n        objectEach(this.buttonEnabledList, function (headerRow, i) {\n          objectEach(headerRow, function (header, j) {\n            var rowIndex = parseInt(i, 10);\n            var columnIndex = parseInt(j, 10);\n\n            _this4.markSectionAs(action === 'collapse' ? 'collapsed' : 'expanded', rowIndex, columnIndex, true);\n\n            _this4.toggleCollapsibleSection({\n              row: rowIndex,\n              col: columnIndex\n            }, action);\n          });\n        });\n      }\n    }\n    /**\n     * Collapses all collapsible sections.\n     */\n\n  }, {\n    key: \"collapseAll\",\n    value: function collapseAll() {\n      this.toggleAllCollapsibleSections('collapse');\n    }\n    /**\n     * Expands all collapsible sections.\n     */\n\n  }, {\n    key: \"expandAll\",\n    value: function expandAll() {\n      this.toggleAllCollapsibleSections('expand');\n    }\n    /**\n     * Collapses/Expands a section.\n     *\n     * @param {Object} coords Section coordinates.\n     * @param {String} action Action definition ('collapse' or 'expand').\n     */\n\n  }, {\n    key: \"toggleCollapsibleSection\",\n    value: function toggleCollapsibleSection(coords, action) {\n      var _this5 = this;\n\n      if (coords.row) {\n        coords.row = parseInt(coords.row, 10);\n      }\n\n      if (coords.col) {\n        coords.col = parseInt(coords.col, 10);\n      }\n\n      var hiddenColumns = this.hiddenColumnsPlugin.hiddenColumns;\n      var colspanArray = this.nestedHeadersPlugin.colspanArray;\n      var level = this.nestedHeadersPlugin.rowCoordsToLevel(coords.row);\n      var currentHeaderColspan = colspanArray[level][coords.col].colspan;\n      var childHeaders = this.nestedHeadersPlugin.getChildHeaders(coords.row, coords.col);\n      var nextLevel = level + 1;\n      var childColspanLevel = colspanArray[nextLevel];\n      var firstChildColspan = childColspanLevel ? childColspanLevel[childHeaders[0]].colspan || 1 : 1;\n\n      while (firstChildColspan === currentHeaderColspan && nextLevel < this.columnHeaderLevelCount) {\n        nextLevel += 1;\n        childColspanLevel = colspanArray[nextLevel];\n        firstChildColspan = childColspanLevel ? childColspanLevel[childHeaders[0]].colspan || 1 : 1;\n      }\n\n      rangeEach(firstChildColspan, currentHeaderColspan - 1, function (i) {\n        var colToHide = coords.col + i;\n\n        switch (action) {\n          case 'collapse':\n            if (!_this5.hiddenColumnsPlugin.isHidden(colToHide)) {\n              hiddenColumns.push(colToHide);\n            }\n\n            break;\n\n          case 'expand':\n            if (_this5.hiddenColumnsPlugin.isHidden(colToHide)) {\n              hiddenColumns.splice(hiddenColumns.indexOf(colToHide), 1);\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      });\n      this.hot.render();\n      this.hot.view.wt.wtOverlays.adjustElementsSize(true);\n    }\n    /**\n     * Adds the indicator to the headers.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {HTMLElement} TH TH element.\n     */\n\n  }, {\n    key: \"onAfterGetColHeader\",\n    value: function onAfterGetColHeader(column, TH) {\n      if (TH.hasAttribute('colspan') && TH.getAttribute('colspan') > 1 && column >= this.hot.getSettings().fixedColumnsLeft) {\n        var button = this.generateIndicator(column, TH);\n\n        if (button !== null) {\n          TH.querySelector('div:first-child').appendChild(button);\n        }\n      }\n    }\n    /**\n     * Indicator mouse event callback.\n     *\n     * @private\n     * @param {Object} event Mouse event.\n     * @param {Object} coords Event coordinates.\n     */\n\n  }, {\n    key: \"onBeforeOnCellMouseDown\",\n    value: function onBeforeOnCellMouseDown(event, coords) {\n      if (hasClass(event.target, 'collapsibleIndicator')) {\n        if (hasClass(event.target, 'expanded')) {\n          // mark section as collapsed\n          if (!this.collapsedSections[coords.row]) {\n            this.collapsedSections[coords.row] = [];\n          }\n\n          this.markSectionAs('collapsed', coords.row, coords.col, true);\n          this.eventManager.fireEvent(event.target, 'mouseup');\n          this.toggleCollapsibleSection(coords, 'collapse');\n        } else if (hasClass(event.target, 'collapsed')) {\n          this.markSectionAs('expanded', coords.row, coords.col, true);\n          this.eventManager.fireEvent(event.target, 'mouseup');\n          this.toggleCollapsibleSection(coords, 'expand');\n        }\n\n        stopImmediatePropagation(event);\n        return false;\n      }\n    }\n    /**\n     * AfterInit hook callback.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterInit\",\n    value: function onAfterInit() {\n      this.columnHeaderLevelCount = this.hot.view.wt.getSetting('columnHeaders').length;\n    }\n    /**\n     * AfterRender hook callback.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterRender\",\n    value: function onAfterRender() {\n      if (!this.nestedHeadersPlugin.enabled || !this.hiddenColumnsPlugin.enabled) {\n        this.disablePlugin();\n      }\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.settings = null;\n      this.buttonEnabledList = null;\n      this.hiddenColumnsPlugin = null;\n      this.nestedHeadersPlugin = null;\n      this.collapsedSections = null;\n      this.columnHeaderLevelCount = null;\n\n      _get(_getPrototypeOf(CollapsibleColumns.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n\n  return CollapsibleColumns;\n}(BasePlugin);\n\nregisterPlugin('collapsibleColumns', CollapsibleColumns);\nexport default CollapsibleColumns;"],"mappings":"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"},"metadata":{},"sourceType":"module"}