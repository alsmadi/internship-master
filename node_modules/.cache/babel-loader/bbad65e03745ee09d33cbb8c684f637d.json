{"ast":null,"code":"import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.set-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get(target, property, receiver || target);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nimport BasePlugin from '../_base';\nimport { arrayEach } from '../../helpers/array';\nimport { isObject, objectEach } from '../../helpers/object';\nimport EventManager from '../../eventManager';\nimport { registerPlugin } from '../../plugins';\nimport { isFormulaExpression, toUpperCaseFormula, isFormulaExpressionEscaped, unescapeFormulaExpression } from './utils';\nimport Sheet from './sheet';\nimport DataProvider from './dataProvider';\nimport UndoRedoSnapshot from './undoRedoSnapshot';\n/**\n * The formulas plugin.\n *\n * @plugin Formulas\n * @experimental\n */\n\nvar Formulas = /*#__PURE__*/\nfunction (_BasePlugin) {\n  _inherits(Formulas, _BasePlugin);\n  function Formulas(hotInstance) {\n    var _this;\n    _classCallCheck(this, Formulas);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Formulas).call(this, hotInstance));\n    /**\n     * Instance of {@link EventManager}.\n     *\n     * @private\n     * @type {EventManager}\n     */\n\n    _this.eventManager = new EventManager(_assertThisInitialized(_this));\n    /**\n     * Instance of {@link DataProvider}.\n     *\n     * @private\n     * @type {DataProvider}\n     */\n\n    _this.dataProvider = new DataProvider(_this.hot);\n    /**\n     * Instance of {@link Sheet}.\n     *\n     * @private\n     * @type {Sheet}\n     */\n\n    _this.sheet = new Sheet(_this.hot, _this.dataProvider);\n    /**\n     * Instance of {@link UndoRedoSnapshot}.\n     *\n     * @private\n     * @type {UndoRedoSnapshot}\n     */\n\n    _this.undoRedoSnapshot = new UndoRedoSnapshot(_this.sheet);\n    /**\n     * Flag which indicates if table should be re-render after sheet recalculations.\n     *\n     * @type {Boolean}\n     * @default false\n     * @private\n     */\n\n    _this._skipRendering = false;\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` than the {@link Formulas#enablePlugin} method is called.\n   *\n   * @returns {Boolean}\n   */\n\n  _createClass(Formulas, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      /* eslint-disable no-unneeded-ternary */\n      return this.hot.getSettings().formulas ? true : false;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n      if (this.enabled) {\n        return;\n      }\n      var settings = this.hot.getSettings().formulas;\n      if (isObject(settings)) {\n        if (isObject(settings.variables)) {\n          objectEach(settings.variables, function (value, name) {\n            return _this2.setVariable(name, value);\n          });\n        }\n      }\n      this.addHook('afterColumnSort', function () {\n        return _this2.onAfterColumnSort.apply(_this2, arguments);\n      });\n      this.addHook('afterCreateCol', function () {\n        return _this2.onAfterCreateCol.apply(_this2, arguments);\n      });\n      this.addHook('afterCreateRow', function () {\n        return _this2.onAfterCreateRow.apply(_this2, arguments);\n      });\n      this.addHook('afterLoadData', function () {\n        return _this2.onAfterLoadData();\n      });\n      this.addHook('afterRemoveCol', function () {\n        return _this2.onAfterRemoveCol.apply(_this2, arguments);\n      });\n      this.addHook('afterRemoveRow', function () {\n        return _this2.onAfterRemoveRow.apply(_this2, arguments);\n      });\n      this.addHook('afterSetDataAtCell', function () {\n        return _this2.onAfterSetDataAtCell.apply(_this2, arguments);\n      });\n      this.addHook('afterSetDataAtRowProp', function () {\n        return _this2.onAfterSetDataAtCell.apply(_this2, arguments);\n      });\n      this.addHook('beforeColumnSort', function () {\n        return _this2.onBeforeColumnSort.apply(_this2, arguments);\n      });\n      this.addHook('beforeCreateCol', function () {\n        return _this2.onBeforeCreateCol.apply(_this2, arguments);\n      });\n      this.addHook('beforeCreateRow', function () {\n        return _this2.onBeforeCreateRow.apply(_this2, arguments);\n      });\n      this.addHook('beforeRemoveCol', function () {\n        return _this2.onBeforeRemoveCol.apply(_this2, arguments);\n      });\n      this.addHook('beforeRemoveRow', function () {\n        return _this2.onBeforeRemoveRow.apply(_this2, arguments);\n      });\n      this.addHook('beforeValidate', function () {\n        return _this2.onBeforeValidate.apply(_this2, arguments);\n      });\n      this.addHook('beforeValueRender', function () {\n        return _this2.onBeforeValueRender.apply(_this2, arguments);\n      });\n      this.addHook('modifyData', function () {\n        return _this2.onModifyData.apply(_this2, arguments);\n      });\n      this.sheet.addLocalHook('afterRecalculate', function () {\n        return _this2.onSheetAfterRecalculate.apply(_this2, arguments);\n      });\n      _get(_getPrototypeOf(Formulas.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      _get(_getPrototypeOf(Formulas.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Returns cell value (evaluated from formula expression) at specified cell coords.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @returns {*}\n     */\n  }, {\n    key: \"getCellValue\",\n    value: function getCellValue(row, column) {\n      var cell = this.sheet.getCellAt(row, column);\n      return cell ? cell.getError() || cell.getValue() : void 0;\n    }\n    /**\n     * Checks if there are any formula evaluations made under specific cell coords.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"hasComputedCellValue\",\n    value: function hasComputedCellValue(row, column) {\n      return this.sheet.getCellAt(row, column) !== null;\n    }\n    /**\n     * Recalculates all formulas (an algorithm will choose the best method of calculation).\n     */\n  }, {\n    key: \"recalculate\",\n    value: function recalculate() {\n      this.sheet.recalculate();\n    }\n    /**\n     * Recalculates all formulas (rebuild dependencies from scratch - slow approach).\n     */\n  }, {\n    key: \"recalculateFull\",\n    value: function recalculateFull() {\n      this.sheet.recalculateFull();\n    }\n    /**\n     * Recalculates all formulas (recalculate only changed cells - fast approach).\n     */\n  }, {\n    key: \"recalculateOptimized\",\n    value: function recalculateOptimized() {\n      this.sheet.recalculateOptimized();\n    }\n    /**\n     * Sets predefined variable name which can be visible while parsing formula expression.\n     *\n     * @param {String} name Variable name.\n     * @param {*} value Variable value.\n     */\n  }, {\n    key: \"setVariable\",\n    value: function setVariable(name, value) {\n      this.sheet.setVariable(name, value);\n    }\n    /**\n     * Returns variable name.\n     *\n     * @param {String} name Variable name.\n     * @returns {*}\n     */\n  }, {\n    key: \"getVariable\",\n    value: function getVariable(name) {\n      return this.sheet.getVariable(name);\n    }\n    /**\n     * Local hook listener for after sheet recalculation.\n     *\n     * @private\n     * @param {Array} cells An array of recalculated/changed cells.\n     */\n  }, {\n    key: \"onSheetAfterRecalculate\",\n    value: function onSheetAfterRecalculate(cells) {\n      if (this._skipRendering) {\n        this._skipRendering = false;\n        return;\n      }\n      var hot = this.hot;\n      arrayEach(cells, function (_ref) {\n        var row = _ref.row,\n          column = _ref.column;\n        hot.validateCell(hot.getDataAtCell(row, column), hot.getCellMeta(row, column), function () {});\n      });\n      hot.render();\n    }\n    /**\n     * On modify row data listener. It overwrites raw values into calculated ones and force upper case all formula expressions.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @param {Object} valueHolder Value holder as an object to change value by reference.\n     * @param {String} ioMode IO operation (`get` or `set`).\n     * @returns {Array|undefined} Returns modified row data.\n     */\n  }, {\n    key: \"onModifyData\",\n    value: function onModifyData(row, column, valueHolder, ioMode) {\n      if (ioMode === 'get' && this.hasComputedCellValue(row, column)) {\n        valueHolder.value = this.getCellValue(row, column);\n      } else if (ioMode === 'set' && isFormulaExpression(valueHolder.value)) {\n        valueHolder.value = toUpperCaseFormula(valueHolder.value);\n      }\n    }\n    /**\n     * On before value render listener.\n     *\n     * @private\n     * @param {*} value Value to render.\n     * @returns {*}\n     */\n  }, {\n    key: \"onBeforeValueRender\",\n    value: function onBeforeValueRender(value) {\n      var renderValue = value;\n      if (isFormulaExpressionEscaped(renderValue)) {\n        renderValue = unescapeFormulaExpression(renderValue);\n      }\n      return renderValue;\n    }\n    /**\n     * On before validate listener.\n     *\n     * @private\n     * @param {*} value Value to validate.\n     * @param {Number} row Row index.\n     * @param {Number} prop Column property.\n     */\n  }, {\n    key: \"onBeforeValidate\",\n    value: function onBeforeValidate(value, row, prop) {\n      var column = this.hot.propToCol(prop);\n      var validateValue = value;\n      if (this.hasComputedCellValue(row, column)) {\n        validateValue = this.getCellValue(row, column);\n      }\n      return validateValue;\n    }\n    /**\n     * `afterSetDataAtCell` listener.\n     *\n     * @private\n     * @param {Array} changes Array of changes.\n     * @param {String} [source] Source of changes.\n     */\n  }, {\n    key: \"onAfterSetDataAtCell\",\n    value: function onAfterSetDataAtCell(changes, source) {\n      var _this3 = this;\n      if (source === 'loadData') {\n        return;\n      }\n      this.dataProvider.clearChanges();\n      arrayEach(changes, function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 4),\n          row = _ref3[0],\n          column = _ref3[1],\n          oldValue = _ref3[2],\n          newValue = _ref3[3];\n        var physicalColumn = _this3.hot.propToCol(column);\n        var physicalRow = _this3.t.toPhysicalRow(row);\n        var value = newValue;\n        if (isFormulaExpression(value)) {\n          value = toUpperCaseFormula(value);\n        }\n        _this3.dataProvider.collectChanges(physicalRow, physicalColumn, value);\n        if (oldValue !== value) {\n          _this3.sheet.applyChanges(physicalRow, physicalColumn, value);\n        }\n      });\n      this.recalculate();\n    }\n    /**\n     * On before create row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of removed rows.\n     * @param {String} source Source of method call.\n     */\n  }, {\n    key: \"onBeforeCreateRow\",\n    value: function onBeforeCreateRow(row, amount, source) {\n      if (source === 'UndoRedo.undo') {\n        this.undoRedoSnapshot.restore();\n      }\n    }\n    /**\n     * On after create row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of created rows.\n     * @param {String} source Source of method call.\n     */\n  }, {\n    key: \"onAfterCreateRow\",\n    value: function onAfterCreateRow(row, amount, source) {\n      this.sheet.alterManager.triggerAlter('insert_row', row, amount, source !== 'UndoRedo.undo');\n    }\n    /**\n     * On before remove row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of removed rows.\n     */\n  }, {\n    key: \"onBeforeRemoveRow\",\n    value: function onBeforeRemoveRow(row, amount) {\n      this.undoRedoSnapshot.save('row', row, amount);\n    }\n    /**\n     * On after remove row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of removed rows.\n     */\n  }, {\n    key: \"onAfterRemoveRow\",\n    value: function onAfterRemoveRow(row, amount) {\n      this.sheet.alterManager.triggerAlter('remove_row', row, amount);\n    }\n    /**\n     * On before create column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of removed columns.\n     * @param {String} source Source of method call.\n     */\n  }, {\n    key: \"onBeforeCreateCol\",\n    value: function onBeforeCreateCol(column, amount, source) {\n      if (source === 'UndoRedo.undo') {\n        this.undoRedoSnapshot.restore();\n      }\n    }\n    /**\n     * On after create column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of created columns.\n     * @param {String} source Source of method call.\n     */\n  }, {\n    key: \"onAfterCreateCol\",\n    value: function onAfterCreateCol(column, amount, source) {\n      this.sheet.alterManager.triggerAlter('insert_column', column, amount, source !== 'UndoRedo.undo');\n    }\n    /**\n     * On before remove column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of removed columns.\n     */\n  }, {\n    key: \"onBeforeRemoveCol\",\n    value: function onBeforeRemoveCol(column, amount) {\n      this.undoRedoSnapshot.save('column', column, amount);\n    }\n    /**\n     * On after remove column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of created columns.\n     */\n  }, {\n    key: \"onAfterRemoveCol\",\n    value: function onAfterRemoveCol(column, amount) {\n      this.sheet.alterManager.triggerAlter('remove_column', column, amount);\n    }\n    /**\n     * On before column sorting listener.\n     *\n     * @private\n     * @param {Number} column Sorted column index.\n     * @param {Boolean} order Order type.\n     */\n  }, {\n    key: \"onBeforeColumnSort\",\n    value: function onBeforeColumnSort(column, order) {\n      this.sheet.alterManager.prepareAlter('column_sorting', column, order);\n    }\n    /**\n     * On after column sorting listener.\n     *\n     * @private\n     * @param {Number} column Sorted column index.\n     * @param {Boolean} order Order type.\n     */\n  }, {\n    key: \"onAfterColumnSort\",\n    value: function onAfterColumnSort(column, order) {\n      this.sheet.alterManager.triggerAlter('column_sorting', column, order);\n    }\n    /**\n     * On after load data listener.\n     *\n     * @private\n     */\n  }, {\n    key: \"onAfterLoadData\",\n    value: function onAfterLoadData() {\n      this._skipRendering = true;\n      this.recalculateFull();\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.dataProvider.destroy();\n      this.dataProvider = null;\n      this.sheet.destroy();\n      this.sheet = null;\n      _get(_getPrototypeOf(Formulas.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n  return Formulas;\n}(BasePlugin);\nregisterPlugin('formulas', Formulas);\nexport default Formulas;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Object","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","BasePlugin","arrayEach","isObject","objectEach","EventManager","registerPlugin","isFormulaExpression","toUpperCaseFormula","isFormulaExpressionEscaped","unescapeFormulaExpression","Sheet","DataProvider","UndoRedoSnapshot","Formulas","_BasePlugin","hotInstance","_this","eventManager","dataProvider","hot","sheet","undoRedoSnapshot","_skipRendering","isEnabled","getSettings","formulas","enablePlugin","_this2","enabled","settings","variables","name","setVariable","addHook","onAfterColumnSort","apply","arguments","onAfterCreateCol","onAfterCreateRow","onAfterLoadData","onAfterRemoveCol","onAfterRemoveRow","onAfterSetDataAtCell","onBeforeColumnSort","onBeforeCreateCol","onBeforeCreateRow","onBeforeRemoveCol","onBeforeRemoveRow","onBeforeValidate","onBeforeValueRender","onModifyData","addLocalHook","onSheetAfterRecalculate","disablePlugin","getCellValue","row","column","cell","getCellAt","getError","getValue","hasComputedCellValue","recalculate","recalculateFull","recalculateOptimized","getVariable","cells","_ref","validateCell","getDataAtCell","getCellMeta","render","valueHolder","ioMode","renderValue","prop","propToCol","validateValue","changes","source","_this3","clearChanges","_ref2","_ref3","oldValue","newValue","physicalColumn","physicalRow","t","toPhysicalRow","collectChanges","applyChanges","amount","restore","alterManager","triggerAlter","save","order","prepareAlter","destroy"],"sources":["C:/Users/mrezy/VSCode/internships-master/node_modules/handsontable/es/plugins/formulas/formulas.js"],"sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.set-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport BasePlugin from '../_base';\nimport { arrayEach } from '../../helpers/array';\nimport { isObject, objectEach } from '../../helpers/object';\nimport EventManager from '../../eventManager';\nimport { registerPlugin } from '../../plugins';\nimport { isFormulaExpression, toUpperCaseFormula, isFormulaExpressionEscaped, unescapeFormulaExpression } from './utils';\nimport Sheet from './sheet';\nimport DataProvider from './dataProvider';\nimport UndoRedoSnapshot from './undoRedoSnapshot';\n/**\n * The formulas plugin.\n *\n * @plugin Formulas\n * @experimental\n */\n\nvar Formulas =\n/*#__PURE__*/\nfunction (_BasePlugin) {\n  _inherits(Formulas, _BasePlugin);\n\n  function Formulas(hotInstance) {\n    var _this;\n\n    _classCallCheck(this, Formulas);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Formulas).call(this, hotInstance));\n    /**\n     * Instance of {@link EventManager}.\n     *\n     * @private\n     * @type {EventManager}\n     */\n\n    _this.eventManager = new EventManager(_assertThisInitialized(_this));\n    /**\n     * Instance of {@link DataProvider}.\n     *\n     * @private\n     * @type {DataProvider}\n     */\n\n    _this.dataProvider = new DataProvider(_this.hot);\n    /**\n     * Instance of {@link Sheet}.\n     *\n     * @private\n     * @type {Sheet}\n     */\n\n    _this.sheet = new Sheet(_this.hot, _this.dataProvider);\n    /**\n     * Instance of {@link UndoRedoSnapshot}.\n     *\n     * @private\n     * @type {UndoRedoSnapshot}\n     */\n\n    _this.undoRedoSnapshot = new UndoRedoSnapshot(_this.sheet);\n    /**\n     * Flag which indicates if table should be re-render after sheet recalculations.\n     *\n     * @type {Boolean}\n     * @default false\n     * @private\n     */\n\n    _this._skipRendering = false;\n    return _this;\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` than the {@link Formulas#enablePlugin} method is called.\n   *\n   * @returns {Boolean}\n   */\n\n\n  _createClass(Formulas, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      /* eslint-disable no-unneeded-ternary */\n      return this.hot.getSettings().formulas ? true : false;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n\n      if (this.enabled) {\n        return;\n      }\n\n      var settings = this.hot.getSettings().formulas;\n\n      if (isObject(settings)) {\n        if (isObject(settings.variables)) {\n          objectEach(settings.variables, function (value, name) {\n            return _this2.setVariable(name, value);\n          });\n        }\n      }\n\n      this.addHook('afterColumnSort', function () {\n        return _this2.onAfterColumnSort.apply(_this2, arguments);\n      });\n      this.addHook('afterCreateCol', function () {\n        return _this2.onAfterCreateCol.apply(_this2, arguments);\n      });\n      this.addHook('afterCreateRow', function () {\n        return _this2.onAfterCreateRow.apply(_this2, arguments);\n      });\n      this.addHook('afterLoadData', function () {\n        return _this2.onAfterLoadData();\n      });\n      this.addHook('afterRemoveCol', function () {\n        return _this2.onAfterRemoveCol.apply(_this2, arguments);\n      });\n      this.addHook('afterRemoveRow', function () {\n        return _this2.onAfterRemoveRow.apply(_this2, arguments);\n      });\n      this.addHook('afterSetDataAtCell', function () {\n        return _this2.onAfterSetDataAtCell.apply(_this2, arguments);\n      });\n      this.addHook('afterSetDataAtRowProp', function () {\n        return _this2.onAfterSetDataAtCell.apply(_this2, arguments);\n      });\n      this.addHook('beforeColumnSort', function () {\n        return _this2.onBeforeColumnSort.apply(_this2, arguments);\n      });\n      this.addHook('beforeCreateCol', function () {\n        return _this2.onBeforeCreateCol.apply(_this2, arguments);\n      });\n      this.addHook('beforeCreateRow', function () {\n        return _this2.onBeforeCreateRow.apply(_this2, arguments);\n      });\n      this.addHook('beforeRemoveCol', function () {\n        return _this2.onBeforeRemoveCol.apply(_this2, arguments);\n      });\n      this.addHook('beforeRemoveRow', function () {\n        return _this2.onBeforeRemoveRow.apply(_this2, arguments);\n      });\n      this.addHook('beforeValidate', function () {\n        return _this2.onBeforeValidate.apply(_this2, arguments);\n      });\n      this.addHook('beforeValueRender', function () {\n        return _this2.onBeforeValueRender.apply(_this2, arguments);\n      });\n      this.addHook('modifyData', function () {\n        return _this2.onModifyData.apply(_this2, arguments);\n      });\n      this.sheet.addLocalHook('afterRecalculate', function () {\n        return _this2.onSheetAfterRecalculate.apply(_this2, arguments);\n      });\n\n      _get(_getPrototypeOf(Formulas.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      _get(_getPrototypeOf(Formulas.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Returns cell value (evaluated from formula expression) at specified cell coords.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"getCellValue\",\n    value: function getCellValue(row, column) {\n      var cell = this.sheet.getCellAt(row, column);\n      return cell ? cell.getError() || cell.getValue() : void 0;\n    }\n    /**\n     * Checks if there are any formula evaluations made under specific cell coords.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"hasComputedCellValue\",\n    value: function hasComputedCellValue(row, column) {\n      return this.sheet.getCellAt(row, column) !== null;\n    }\n    /**\n     * Recalculates all formulas (an algorithm will choose the best method of calculation).\n     */\n\n  }, {\n    key: \"recalculate\",\n    value: function recalculate() {\n      this.sheet.recalculate();\n    }\n    /**\n     * Recalculates all formulas (rebuild dependencies from scratch - slow approach).\n     */\n\n  }, {\n    key: \"recalculateFull\",\n    value: function recalculateFull() {\n      this.sheet.recalculateFull();\n    }\n    /**\n     * Recalculates all formulas (recalculate only changed cells - fast approach).\n     */\n\n  }, {\n    key: \"recalculateOptimized\",\n    value: function recalculateOptimized() {\n      this.sheet.recalculateOptimized();\n    }\n    /**\n     * Sets predefined variable name which can be visible while parsing formula expression.\n     *\n     * @param {String} name Variable name.\n     * @param {*} value Variable value.\n     */\n\n  }, {\n    key: \"setVariable\",\n    value: function setVariable(name, value) {\n      this.sheet.setVariable(name, value);\n    }\n    /**\n     * Returns variable name.\n     *\n     * @param {String} name Variable name.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"getVariable\",\n    value: function getVariable(name) {\n      return this.sheet.getVariable(name);\n    }\n    /**\n     * Local hook listener for after sheet recalculation.\n     *\n     * @private\n     * @param {Array} cells An array of recalculated/changed cells.\n     */\n\n  }, {\n    key: \"onSheetAfterRecalculate\",\n    value: function onSheetAfterRecalculate(cells) {\n      if (this._skipRendering) {\n        this._skipRendering = false;\n        return;\n      }\n\n      var hot = this.hot;\n      arrayEach(cells, function (_ref) {\n        var row = _ref.row,\n            column = _ref.column;\n        hot.validateCell(hot.getDataAtCell(row, column), hot.getCellMeta(row, column), function () {});\n      });\n      hot.render();\n    }\n    /**\n     * On modify row data listener. It overwrites raw values into calculated ones and force upper case all formula expressions.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @param {Object} valueHolder Value holder as an object to change value by reference.\n     * @param {String} ioMode IO operation (`get` or `set`).\n     * @returns {Array|undefined} Returns modified row data.\n     */\n\n  }, {\n    key: \"onModifyData\",\n    value: function onModifyData(row, column, valueHolder, ioMode) {\n      if (ioMode === 'get' && this.hasComputedCellValue(row, column)) {\n        valueHolder.value = this.getCellValue(row, column);\n      } else if (ioMode === 'set' && isFormulaExpression(valueHolder.value)) {\n        valueHolder.value = toUpperCaseFormula(valueHolder.value);\n      }\n    }\n    /**\n     * On before value render listener.\n     *\n     * @private\n     * @param {*} value Value to render.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"onBeforeValueRender\",\n    value: function onBeforeValueRender(value) {\n      var renderValue = value;\n\n      if (isFormulaExpressionEscaped(renderValue)) {\n        renderValue = unescapeFormulaExpression(renderValue);\n      }\n\n      return renderValue;\n    }\n    /**\n     * On before validate listener.\n     *\n     * @private\n     * @param {*} value Value to validate.\n     * @param {Number} row Row index.\n     * @param {Number} prop Column property.\n     */\n\n  }, {\n    key: \"onBeforeValidate\",\n    value: function onBeforeValidate(value, row, prop) {\n      var column = this.hot.propToCol(prop);\n      var validateValue = value;\n\n      if (this.hasComputedCellValue(row, column)) {\n        validateValue = this.getCellValue(row, column);\n      }\n\n      return validateValue;\n    }\n    /**\n     * `afterSetDataAtCell` listener.\n     *\n     * @private\n     * @param {Array} changes Array of changes.\n     * @param {String} [source] Source of changes.\n     */\n\n  }, {\n    key: \"onAfterSetDataAtCell\",\n    value: function onAfterSetDataAtCell(changes, source) {\n      var _this3 = this;\n\n      if (source === 'loadData') {\n        return;\n      }\n\n      this.dataProvider.clearChanges();\n      arrayEach(changes, function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 4),\n            row = _ref3[0],\n            column = _ref3[1],\n            oldValue = _ref3[2],\n            newValue = _ref3[3];\n\n        var physicalColumn = _this3.hot.propToCol(column);\n\n        var physicalRow = _this3.t.toPhysicalRow(row);\n\n        var value = newValue;\n\n        if (isFormulaExpression(value)) {\n          value = toUpperCaseFormula(value);\n        }\n\n        _this3.dataProvider.collectChanges(physicalRow, physicalColumn, value);\n\n        if (oldValue !== value) {\n          _this3.sheet.applyChanges(physicalRow, physicalColumn, value);\n        }\n      });\n      this.recalculate();\n    }\n    /**\n     * On before create row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of removed rows.\n     * @param {String} source Source of method call.\n     */\n\n  }, {\n    key: \"onBeforeCreateRow\",\n    value: function onBeforeCreateRow(row, amount, source) {\n      if (source === 'UndoRedo.undo') {\n        this.undoRedoSnapshot.restore();\n      }\n    }\n    /**\n     * On after create row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of created rows.\n     * @param {String} source Source of method call.\n     */\n\n  }, {\n    key: \"onAfterCreateRow\",\n    value: function onAfterCreateRow(row, amount, source) {\n      this.sheet.alterManager.triggerAlter('insert_row', row, amount, source !== 'UndoRedo.undo');\n    }\n    /**\n     * On before remove row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of removed rows.\n     */\n\n  }, {\n    key: \"onBeforeRemoveRow\",\n    value: function onBeforeRemoveRow(row, amount) {\n      this.undoRedoSnapshot.save('row', row, amount);\n    }\n    /**\n     * On after remove row listener.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} amount An amount of removed rows.\n     */\n\n  }, {\n    key: \"onAfterRemoveRow\",\n    value: function onAfterRemoveRow(row, amount) {\n      this.sheet.alterManager.triggerAlter('remove_row', row, amount);\n    }\n    /**\n     * On before create column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of removed columns.\n     * @param {String} source Source of method call.\n     */\n\n  }, {\n    key: \"onBeforeCreateCol\",\n    value: function onBeforeCreateCol(column, amount, source) {\n      if (source === 'UndoRedo.undo') {\n        this.undoRedoSnapshot.restore();\n      }\n    }\n    /**\n     * On after create column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of created columns.\n     * @param {String} source Source of method call.\n     */\n\n  }, {\n    key: \"onAfterCreateCol\",\n    value: function onAfterCreateCol(column, amount, source) {\n      this.sheet.alterManager.triggerAlter('insert_column', column, amount, source !== 'UndoRedo.undo');\n    }\n    /**\n     * On before remove column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of removed columns.\n     */\n\n  }, {\n    key: \"onBeforeRemoveCol\",\n    value: function onBeforeRemoveCol(column, amount) {\n      this.undoRedoSnapshot.save('column', column, amount);\n    }\n    /**\n     * On after remove column listener.\n     *\n     * @private\n     * @param {Number} column Column index.\n     * @param {Number} amount An amount of created columns.\n     */\n\n  }, {\n    key: \"onAfterRemoveCol\",\n    value: function onAfterRemoveCol(column, amount) {\n      this.sheet.alterManager.triggerAlter('remove_column', column, amount);\n    }\n    /**\n     * On before column sorting listener.\n     *\n     * @private\n     * @param {Number} column Sorted column index.\n     * @param {Boolean} order Order type.\n     */\n\n  }, {\n    key: \"onBeforeColumnSort\",\n    value: function onBeforeColumnSort(column, order) {\n      this.sheet.alterManager.prepareAlter('column_sorting', column, order);\n    }\n    /**\n     * On after column sorting listener.\n     *\n     * @private\n     * @param {Number} column Sorted column index.\n     * @param {Boolean} order Order type.\n     */\n\n  }, {\n    key: \"onAfterColumnSort\",\n    value: function onAfterColumnSort(column, order) {\n      this.sheet.alterManager.triggerAlter('column_sorting', column, order);\n    }\n    /**\n     * On after load data listener.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterLoadData\",\n    value: function onAfterLoadData() {\n      this._skipRendering = true;\n      this.recalculateFull();\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.dataProvider.destroy();\n      this.dataProvider = null;\n      this.sheet.destroy();\n      this.sheet = null;\n\n      _get(_getPrototypeOf(Formulas.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n\n  return Formulas;\n}(BasePlugin);\n\nregisterPlugin('formulas', Formulas);\nexport default Formulas;"],"mappings":"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"},"metadata":{},"sourceType":"module"}