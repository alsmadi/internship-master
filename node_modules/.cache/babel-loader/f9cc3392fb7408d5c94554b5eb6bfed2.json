{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get(target, property, receiver || target);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nimport BasePlugin from '../_base';\nimport { addClass, removeClass } from '../../helpers/dom/element';\nimport { objectEach, deepClone, extend } from '../../helpers/object';\nimport { warn } from '../../helpers/console';\nimport { createEmptySpreadsheetData } from '../../helpers/data';\nimport { registerPlugin } from '../../plugins';\nimport { getDateYear, parseDate } from './utils';\nimport DateCalculator from './dateCalculator';\nimport GanttChartDataFeed from './ganttChartDataFeed';\n\n/**\n * @plugin GanttChart\n * @experimental\n * @dependencies CollapsibleColumns\n *\n * @description\n * GanttChart plugin enables a possibility to create a Gantt chart using a Handsontable instance.\n * In this case, the whole table becomes read-only.\n *\n * @example\n * ```js\n * ganttChart: {\n *     dataSource: data,\n *     firstWeekDay: 'monday', // Sets the first day of the week to either 'monday' or 'sunday'.\n *     startYear: 2015 // Sets the displayed year to the provided value.\n *     weekHeaderGenerator: function(start, end) { return start + ' - ' + end; } // sets the label on the week column headers (optional). The `start` and `end` arguments are numbers representing the beginning and end day of the week.\n *     allowSplitWeeks: true, // If set to `true` (default), will allow splitting week columns between months. If not, plugin will generate \"mixed\" months, like \"Jan/Feb\".\n *     hideDaysBeforeFullWeeks: false, // If set to `true`, the plugin won't render the incomplete weeks before the \"full\" weeks inside months.\n *     hideDaysAfterFullWeeks: false, // If set to `true`, the plugin won't render the incomplete weeks after the \"full\" weeks inside months.\n *   }\n *\n * // Where data can be either an data object or an object containing information about another Handsontable instance, which\n * // would feed the chart-enabled instance with data.\n * // For example:\n *\n * // Handsontable-binding information\n * var data = {\n *   instance: source, // reference to another Handsontable instance\n *   startDateColumn: 4, // index of a column, which contains information about start dates of data ranges\n *   endDateColumn: 5, // index of a column, which contains information about end dates of data ranges\n *   additionalData: { // information about additional data passed to the chart, in this example example:\n *     label: 0, // labels are stored in the first column\n *     quantity: 1 // quantity information is stored in the second column\n *   },\n *   asyncUpdates: true // if set to true, the updates from the source instance with be asynchronous. Defaults to false.\n * }\n *\n * // Data object\n * var data = [\n *   {\n *     additionalData: {label: 'Example label.', quantity: 'Four packs.'},\n *     startDate: '1/5/2015',\n *     endDate: '1/20/2015'\n *   },\n *   {\n *     additionalData: {label: 'Another label.', quantity: 'One pack.'},\n *     startDate: '1/11/2015',\n *     endDate: '1/29/2015'\n *   }\n * ];\n * ```\n */\nvar GanttChart = /*#__PURE__*/\nfunction (_BasePlugin) {\n  _inherits(GanttChart, _BasePlugin);\n  function GanttChart(hotInstance) {\n    var _this;\n    _classCallCheck(this, GanttChart);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GanttChart).call(this, hotInstance));\n    /**\n     * Cached plugin settings.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.settings = {};\n    /**\n     * Date Calculator object.\n     *\n     * @private\n     * @type {DateCalculator}\n     */\n\n    _this.dateCalculator = null;\n    /**\n     * Currently loaded year.\n     *\n     * @private\n     * @type {Number}\n     */\n\n    _this.currentYear = null;\n    /**\n     * List of months and their corresponding day counts.\n     *\n     * @private\n     * @type {Array}\n     */\n\n    _this.monthList = [];\n    /**\n     * Array of data for the month headers.\n     *\n     * @private\n     * @type {Array}\n     */\n\n    _this.monthHeadersArray = [];\n    /**\n     * Array of data for the week headers.\n     *\n     * @private\n     * @type {Array}\n     */\n\n    _this.weekHeadersArray = [];\n    /**\n     * Object containing the currently created range bars, along with their corresponding parameters.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.rangeBars = {};\n    /**\n     * Object containing the currently created ranges with coordinates to their range bars.\n     * It's structure is categorized by years, so to get range bar information for a year, one must use `this.rangeList[year]`.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.rangeList = {};\n    /**\n     * Reference to the Nested Headers plugin.\n     *\n     * @private\n     * @type {NestedHeaders}\n     */\n\n    _this.nestedHeadersPlugin = null;\n    /**\n     * Object containing properties of the source Handsontable instance (the data source).\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.hotSource = null;\n    /**\n     * Number of week 'blocks' in the nested headers.\n     *\n     * @private\n     * @type {Number}\n     */\n\n    _this.overallWeekSectionCount = null;\n    /**\n     * Initial instance settings - used to rollback the gantt-specific settings during the disabling of the plugin.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.initialSettings = null;\n    /**\n     * Data feed controller for this plugin.\n     *\n     * @private\n     * @type {GanttChartDataFeed}\n     */\n\n    _this.dataFeed = null;\n    /**\n     * Color information set after applying colors to the chart.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.colorData = {};\n    /**\n     * Metadata of the range bars, used to re-apply meta after updating HOT settings.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.rangeBarMeta = Object.create(null);\n    return _this;\n  }\n  /**\n   * Check if the dependencies are met, if not, throws a warning.\n   */\n\n  _createClass(GanttChart, [{\n    key: \"checkDependencies\",\n    value: function checkDependencies() {\n      if (!this.hot.getSettings().colHeaders) {\n        warn('You need to enable the colHeaders property in your Gantt Chart Handsontable in order for it to work properly.');\n      }\n    }\n    /**\n     * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n     * hook and if it returns `true` than the {@link GanttChart#enablePlugin} method is called.\n     *\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return !!this.hot.getSettings().ganttChart;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n      if (this.enabled) {\n        return;\n      }\n      this.checkDependencies();\n      this.parseSettings();\n      this.currentYear = this.settings.startYear || new Date().getFullYear();\n      this.dateCalculator = new DateCalculator({\n        year: this.currentYear,\n        allowSplitWeeks: this.settings.allowSplitWeeks,\n        hideDaysBeforeFullWeeks: this.settings.hideDaysBeforeFullWeeks,\n        hideDaysAfterFullWeeks: this.settings.hideDaysAfterFullWeeks\n      });\n      this.dateCalculator.setFirstWeekDay(this.settings.firstWeekDay);\n      this.monthList = this.dateCalculator.getMonthList();\n      this.monthHeadersArray = this.generateMonthHeaders();\n      this.weekHeadersArray = this.generateWeekHeaders();\n      this.overallWeekSectionCount = this.dateCalculator.countWeekSections();\n      this.assignGanttSettings();\n      if (this.nestedHeadersPlugin) {\n        this.applyDataSource();\n        if (this.colorData) {\n          this.setRangeBarColors(this.colorData);\n        }\n      }\n      this.addHook('afterInit', function () {\n        return _this2.onAfterInit();\n      });\n      addClass(this.hot.rootElement, 'ganttChart');\n      _get(_getPrototypeOf(GanttChart.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      if (this.internalUpdateSettings) {\n        return;\n      }\n      if (this.dataFeed && this.dataFeed.hotSource) {\n        this.dataFeed.removeSourceHotHooks(this.dataFeed.hotSource);\n      }\n      this.settings = {};\n      this.dataFeed = {};\n      this.currentYear = null;\n      this.monthList = [];\n      this.rangeBars = {};\n      this.rangeList = {};\n      this.rangeBarMeta = {};\n      this.hotSource = null;\n      this.deassignGanttSettings();\n      removeClass(this.hot.rootElement, 'ganttChart');\n      _get(_getPrototypeOf(GanttChart.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Updates the plugin state. This method is executed when {@link Core#updateSettings} is invoked.\n     */\n  }, {\n    key: \"updatePlugin\",\n    value: function updatePlugin() {\n      this.disablePlugin();\n      this.enablePlugin();\n      _get(_getPrototypeOf(GanttChart.prototype), \"updatePlugin\", this).call(this);\n    }\n    /**\n     * Parses the plugin settings.\n     *\n     * @private\n     */\n  }, {\n    key: \"parseSettings\",\n    value: function parseSettings() {\n      this.settings = this.hot.getSettings().ganttChart;\n      if (typeof this.settings === 'boolean') {\n        this.settings = {};\n      }\n      if (!this.settings.firstWeekDay) {\n        this.settings.firstWeekDay = 'monday';\n      }\n      if (this.settings.allowSplitWeeks === void 0) {\n        this.settings.allowSplitWeeks = true;\n      }\n      if (typeof this.settings.weekHeaderGenerator !== 'function') {\n        this.settings.weekHeaderGenerator = null;\n      }\n    }\n    /**\n     * Applies the data source provided in the plugin settings.\n     *\n     * @private\n     */\n  }, {\n    key: \"applyDataSource\",\n    value: function applyDataSource() {\n      if (this.settings.dataSource) {\n        var source = this.settings.dataSource;\n        if (source.instance) {\n          this.loadData(source.instance, source.startDateColumn, source.endDateColumn, source.additionalData, source.asyncUpdates);\n        } else {\n          this.loadData(source);\n        }\n      }\n    }\n    /**\n     * Loads chart data to the Handsontable instance.\n     *\n     * @private\n     * @param {Array|Object} data Array of objects containing the range data OR another Handsontable instance, to be used as the data feed\n     * @param {Number} [startDateColumn] Index of the start date column (Needed only if the data argument is a HOT instance).\n     * @param {Number} [endDateColumn] Index of the end date column (Needed only if the data argument is a HOT instance).\n     * @param {Object} [additionalData] Object containing additional data labels and their corresponding column indexes (Needed only if the data argument is a HOT instance).\n     *\n     */\n  }, {\n    key: \"loadData\",\n    value: function loadData(data, startDateColumn, endDateColumn, additionalData, asyncUpdates) {\n      this.dataFeed = new GanttChartDataFeed(this.hot, data, startDateColumn, endDateColumn, additionalData, asyncUpdates);\n      this.hot.render();\n    }\n    /**\n     * Clears the range bars list.\n     *\n     * @private\n     */\n  }, {\n    key: \"clearRangeBars\",\n    value: function clearRangeBars() {\n      this.rangeBars = {};\n    }\n    /**\n     * Clears the range list.\n     *\n     * @private\n     */\n  }, {\n    key: \"clearRangeList\",\n    value: function clearRangeList() {\n      this.rangeList = {};\n    }\n    /**\n     * Returns a range bar coordinates by the provided row.\n     *\n     * @param {Number} row Range bar's row.\n     * @returns {Object}\n     */\n  }, {\n    key: \"getRangeBarCoordinates\",\n    value: function getRangeBarCoordinates(row) {\n      return this.rangeList[row];\n    }\n    /**\n     * Generates the month header structure.\n     *\n     * @private\n     */\n  }, {\n    key: \"generateMonthHeaders\",\n    value: function generateMonthHeaders() {\n      var year = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentYear;\n      return this.dateCalculator.generateHeaderSet('months', this.settings.weekHeaderGenerator, year);\n    }\n    /**\n     * Generates the week header structure.\n     *\n     * @private\n     */\n  }, {\n    key: \"generateWeekHeaders\",\n    value: function generateWeekHeaders() {\n      var year = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentYear;\n      return this.dateCalculator.generateHeaderSet('weeks', this.settings.weekHeaderGenerator, year);\n    }\n    /**\n     * Assigns the settings needed for the Gantt Chart plugin into the Handsontable instance.\n     *\n     * @private\n     */\n  }, {\n    key: \"assignGanttSettings\",\n    value: function assignGanttSettings() {\n      var _this3 = this;\n\n      // TODO: commented out temporarily, to be fixed in #68, there's a problem with re-enabling the gantt settings after resetting them\n      // this.initialSettings = {\n      //   data: this.hot.getSettings().data,\n      //   readOnly: this.hot.getSettings().readOnly,\n      //   renderer: this.hot.getSettings().renderer,\n      //   colWidths: this.hot.getSettings().colWidths,\n      //   hiddenColumns: this.hot.getSettings().hiddenColumns,\n      //   nestedHeaders: this.hot.getSettings().nestedHeaders,\n      //   collapsibleColumns: this.hot.getSettings().collapsibleColumns,\n      //   columnSorting: this.hot.getSettings().columnSorting,\n      // };\n      this.initialSettings = deepClone(this.hot.getSettings());\n      var additionalSettings = {\n        data: createEmptySpreadsheetData(1, this.overallWeekSectionCount),\n        readOnly: true,\n        renderer: function renderer(instance, TD, row, col, prop, value, cellProperties) {\n          return _this3.uniformBackgroundRenderer(instance, TD, row, col, prop, value, cellProperties);\n        },\n        colWidths: 60,\n        hiddenColumns: this.hot.getSettings().hiddenColumns ? this.hot.getSettings().hiddenColumns : true,\n        nestedHeaders: [this.monthHeadersArray.slice(), this.weekHeadersArray.slice()],\n        collapsibleColumns: this.hot.getSettings().collapsibleColumns ? this.hot.getSettings().collapsibleColumns : true,\n        columnSorting: false,\n        copyPaste: false\n      };\n      this.internalUpdateSettings = true;\n      this.hot.updateSettings(additionalSettings);\n      this.internalUpdateSettings = void 0;\n    }\n    /**\n     * Deassigns the Gantt Chart plugin settings (revert to initial settings).\n     *\n     * @private\n     */\n  }, {\n    key: \"deassignGanttSettings\",\n    value: function deassignGanttSettings() {\n      this.internalUpdateSettings = true;\n      if (this.initialSettings) {\n        this.hot.updateSettings(this.initialSettings);\n      }\n      this.internalUpdateSettings = void 0;\n    }\n    /**\n     * Add rangebar meta data to the cache.\n     *\n     * @param {Number} row\n     * @param {Number} col\n     * @param {String} key\n     * @param {String|Number|Object|Array} value\n     */\n  }, {\n    key: \"cacheRangeBarMeta\",\n    value: function cacheRangeBarMeta(row, col, key, value) {\n      if (!this.rangeBarMeta[row]) {\n        this.rangeBarMeta[row] = {};\n      }\n      if (!this.rangeBarMeta[row][col]) {\n        this.rangeBarMeta[row][col] = {};\n      }\n      this.rangeBarMeta[row][col][key] = value;\n    }\n    /**\n     * Applies the cached cell meta.\n     *\n     * @private\n     */\n  }, {\n    key: \"applyRangeBarMetaCache\",\n    value: function applyRangeBarMetaCache() {\n      var _this4 = this;\n      objectEach(this.rangeBarMeta, function (rowArr, row) {\n        objectEach(rowArr, function (cell, col) {\n          objectEach(cell, function (value, key) {\n            _this4.hot.setCellMeta(row, col, key, value);\n          });\n        });\n      });\n    }\n    /**\n     * Get the column index of the adjacent week.\n     *\n     * @private\n     * @param {Date|String} date The date object/string.\n     * @param {Boolean} following `true` if the following week is needed.\n     * @param {Boolean} previous `true` if the previous week is needed.\n     */\n  }, {\n    key: \"getAdjacentWeekColumn\",\n    value: function getAdjacentWeekColumn(date, following, previous) {\n      var convertedDate = parseDate(date);\n      var delta = previous === true ? -7 : 7;\n      var adjacentWeek = convertedDate.setDate(convertedDate.getDate() + delta);\n      return this.dateCalculator.dateToColumn(adjacentWeek);\n    }\n    /**\n     * Create a new range bar.\n     *\n     * @param {Number} row Row index.\n     * @param {Date|String} startDate Start date object/string.\n     * @param {Date|String} endDate End date object/string.\n     * @param {Object} additionalData Additional range data.\n     * @returns {Array|Boolean} Array of the bar's row and column.\n     */\n  }, {\n    key: \"addRangeBar\",\n    value: function addRangeBar(row, startDate, endDate, additionalData) {\n      var _this5 = this;\n      if (startDate !== null && endDate !== null) {\n        this.prepareDaysInColumnsInfo(parseDate(startDate), parseDate(endDate));\n      }\n      var startDateColumn = this.dateCalculator.dateToColumn(startDate);\n      var endDateColumn = this.dateCalculator.dateToColumn(endDate);\n      var year = getDateYear(startDate); // every range bar should not exceed the limits of one year\n\n      var startMoved = false;\n      var endMoved = false;\n      if (startDateColumn === null && this.settings.hideDaysBeforeFullWeeks) {\n        startDateColumn = this.getAdjacentWeekColumn(startDate, true, false);\n        if (startDateColumn !== false) {\n          startMoved = true;\n        }\n      }\n      if (endDateColumn === null && this.settings.hideDaysAfterFullWeeks) {\n        endDateColumn = this.getAdjacentWeekColumn(endDate, false, true);\n        if (endDateColumn !== false) {\n          endMoved = true;\n        }\n      }\n      if (!this.dateCalculator.isValidRangeBarData(startDate, endDate) || startDateColumn === false || endDateColumn === false) {\n        return false;\n      }\n      if (!this.rangeBars[year]) {\n        this.rangeBars[year] = {};\n      }\n      if (!this.rangeBars[year][row]) {\n        this.rangeBars[year][row] = {};\n      }\n      this.rangeBars[year][row][startDateColumn] = {\n        barLength: endDateColumn - startDateColumn + 1,\n        partialStart: startMoved ? false : !this.dateCalculator.isOnTheEdgeOfWeek(startDate)[0],\n        partialEnd: endMoved ? false : !this.dateCalculator.isOnTheEdgeOfWeek(endDate)[1],\n        additionalData: {}\n      };\n      objectEach(additionalData, function (prop, i) {\n        _this5.rangeBars[year][row][startDateColumn].additionalData[i] = prop;\n      });\n      if (year === this.dateCalculator.getYear()) {\n        if (this.colorData[row]) {\n          this.rangeBars[year][row][startDateColumn].colors = this.colorData[row];\n        }\n        this.rangeList[row] = [row, startDateColumn];\n        this.renderRangeBar(row, startDateColumn, endDateColumn, additionalData);\n      }\n      return [row, startDateColumn];\n    }\n    /**\n     * Generates the information about which date is represented in which column.\n     *\n     * @private\n     * @param {Date} startDate Start date.\n     * @param {Date} endDate End Date.\n     */\n  }, {\n    key: \"prepareDaysInColumnsInfo\",\n    value: function prepareDaysInColumnsInfo(startDate, endDate) {\n      for (var i = startDate.getFullYear(); i <= endDate.getFullYear(); i++) {\n        if (this.dateCalculator.daysInColumns[i] === void 0) {\n          this.dateCalculator.calculateWeekStructure(i);\n          this.dateCalculator.generateHeaderSet('weeks', null, i);\n        }\n      }\n    }\n    /**\n     * Returns the range bar data of the provided row and column.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @returns {Object|Boolean} Returns false if no bar is found.\n     */\n  }, {\n    key: \"getRangeBarData\",\n    value: function getRangeBarData(row, column) {\n      var year = this.dateCalculator.getYear();\n      var rangeBarCoords = this.getRangeBarCoordinates(row);\n      if (!rangeBarCoords) {\n        return false;\n      }\n      var rangeBarData = this.rangeBars[year][rangeBarCoords[0]][rangeBarCoords[1]];\n      if (rangeBarData && row === rangeBarCoords[0] && (column === rangeBarCoords[1] || column > rangeBarCoords[1] && column < rangeBarCoords[1] + rangeBarData.barLength)) {\n        return rangeBarData;\n      }\n      return false;\n    }\n    /**\n     * Updates the range bar data by the provided object.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @param {Object} data Object with the updated data.\n     */\n  }, {\n    key: \"updateRangeBarData\",\n    value: function updateRangeBarData(row, column, data) {\n      var rangeBar = this.getRangeBarData(row, column);\n      objectEach(data, function (val, prop) {\n        if (rangeBar[prop] !== val) {\n          rangeBar[prop] = val;\n        }\n      });\n    }\n    /**\n     * Adds a range bar to the table.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} startDateColumn Start column index.\n     * @param {Number} endDateColumn End column index.\n     */\n  }, {\n    key: \"renderRangeBar\",\n    value: function renderRangeBar(row, startDateColumn, endDateColumn) {\n      var year = this.dateCalculator.getYear();\n      var currentBar = this.rangeBars[year][row][startDateColumn];\n      for (var i = startDateColumn; i <= endDateColumn; i++) {\n        var cellMeta = this.hot.getCellMeta(row, i);\n        var newClassName = \"\".concat(cellMeta.className || '', \" rangeBar\");\n        if (i === startDateColumn && currentBar.partialStart || i === endDateColumn && currentBar.partialEnd) {\n          newClassName += ' partial';\n        }\n        if (i === endDateColumn) {\n          newClassName += ' last';\n        }\n        this.hot.setCellMeta(row, i, 'originalClassName', cellMeta.className);\n        this.hot.setCellMeta(row, i, 'className', newClassName);\n        this.hot.setCellMeta(row, i, 'additionalData', currentBar.additionalData); // cache cell meta, used for updateSettings, related with a cell meta bug\n\n        this.cacheRangeBarMeta(row, i, 'originalClassName', cellMeta.className);\n        this.cacheRangeBarMeta(row, i, 'className', newClassName);\n        this.cacheRangeBarMeta(row, i, 'additionalData', currentBar.additionalData);\n      }\n    }\n    /**\n     * Removes a range bar of the provided start date and row.\n     *\n     * @param {Number} row Row index.\n     * @param {Date|String} startDate Start date.\n     */\n  }, {\n    key: \"removeRangeBarByDate\",\n    value: function removeRangeBarByDate(row, startDate) {\n      var startDateColumn = this.dateCalculator.dateToColumn(startDate);\n      this.removeRangeBarByColumn(row, startDateColumn);\n    }\n    /**\n     * Removes a range bar of the provided row and start column.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} startDateColumn Column index.\n     */\n  }, {\n    key: \"removeRangeBarByColumn\",\n    value: function removeRangeBarByColumn(row, startDateColumn) {\n      var _this6 = this;\n      var year = this.dateCalculator.getYear();\n      var rangeBar = this.rangeBars[year][row][startDateColumn];\n      if (!rangeBar) {\n        return;\n      }\n      this.unrenderRangeBar(row, startDateColumn, startDateColumn + rangeBar.barLength - 1);\n      this.rangeBars[year][row][startDateColumn] = null;\n      objectEach(this.rangeList, function (prop, i) {\n        var id = parseInt(i, 10);\n        if (JSON.stringify(prop) === JSON.stringify([row, startDateColumn])) {\n          _this6.rangeList[id] = null;\n        }\n      });\n    }\n    /**\n     * Removes all range bars from the chart-enabled Handsontable instance.\n     */\n  }, {\n    key: \"removeAllRangeBars\",\n    value: function removeAllRangeBars() {\n      var _this7 = this;\n      objectEach(this.rangeBars, function (row, i) {\n        objectEach(row, function (bar, j) {\n          _this7.removeRangeBarByColumn(i, j);\n        });\n      });\n    }\n    /**\n     * Removes a range bar from the table.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} startDateColumn Start column index.\n     * @param {Number} endDateColumn End column index.\n     */\n  }, {\n    key: \"unrenderRangeBar\",\n    value: function unrenderRangeBar(row, startDateColumn, endDateColumn) {\n      for (var i = startDateColumn; i <= endDateColumn; i++) {\n        var cellMeta = this.hot.getCellMeta(row, i);\n        this.hot.setCellMeta(row, i, 'className', cellMeta.originalClassName);\n        this.hot.setCellMeta(row, i, 'originalClassName', void 0);\n        this.cacheRangeBarMeta(row, i, 'className', cellMeta.originalClassName);\n        this.cacheRangeBarMeta(row, i, 'originalClassName', void 0);\n      }\n      this.hot.render();\n    }\n    /**\n     * A default renderer of the range bars.\n     *\n     * @private\n     * @param {Object} instance HOT instance.\n     * @param {HTMLElement} TD TD element.\n     * @param {Number} row Row index.\n     * @param {Number} col Column index.\n     * @param {String|Number} prop Object data property.\n     * @param {String|Number} value Value to pass to the cell.\n     * @param {Object} cellProperties Current cell properties.\n     */\n  }, {\n    key: \"uniformBackgroundRenderer\",\n    value: function uniformBackgroundRenderer(instance, TD, row, col, prop, value, cellProperties) {\n      var rangeBarInfo = this.getRangeBarData(row, col);\n      var rangeBarCoords = this.getRangeBarCoordinates(row);\n      TD.innerHTML = '';\n      if (cellProperties.className) {\n        TD.className = cellProperties.className;\n      }\n      var titleValue = '';\n      objectEach(cellProperties.additionalData, function (cellMeta, i) {\n        titleValue += \"\".concat(i, \": \").concat(cellMeta, \"\\n\");\n      });\n      titleValue = titleValue.replace(/\\n$/, '');\n      TD.title = titleValue;\n      if (rangeBarInfo && rangeBarInfo.colors) {\n        if (col === rangeBarCoords[1] && rangeBarInfo.partialStart || col === rangeBarCoords[1] + rangeBarInfo.barLength - 1 && rangeBarInfo.partialEnd) {\n          TD.style.background = rangeBarInfo.colors[1];\n        } else {\n          TD.style.background = rangeBarInfo.colors[0];\n        }\n      } else {\n        TD.style.background = '';\n      }\n    }\n    /**\n     * Sets range bar colors.\n     *\n     * @param {Object} rows Object containing row color data, see example.\n     * @example\n     * ```js\n     *  hot.getPlugin('ganttChart').setRangeBarColors({\n     *    0: ['blue', 'lightblue'] // paints the bar in the first row blue, with partial sections colored light blue\n      *   2: ['#2A74D0', '#588DD0'] // paints the bar in the thrid row with #2A74D0, with partial sections colored with #588DD0\n     *  });\n     * ```\n     */\n  }, {\n    key: \"setRangeBarColors\",\n    value: function setRangeBarColors(rows) {\n      var _this8 = this;\n      this.colorData = rows;\n      objectEach(rows, function (colors, i) {\n        var barCoords = _this8.getRangeBarCoordinates(i);\n        if (barCoords) {\n          _this8.updateRangeBarData(barCoords[0], barCoords[1], {\n            colors: colors\n          });\n        }\n      });\n      this.hot.render();\n    }\n    /**\n     * Updates the chart with a new year.\n     *\n     * @param {Number} year New chart year.\n     */\n  }, {\n    key: \"setYear\",\n    value: function setYear(year) {\n      var newSettings = extend(this.hot.getSettings().ganttChart, {\n        startYear: year\n      });\n      this.hot.updateSettings({\n        ganttChart: newSettings\n      });\n    }\n    /**\n     * AfterInit hook callback.\n     *\n     * @private\n     */\n  }, {\n    key: \"onAfterInit\",\n    value: function onAfterInit() {\n      this.nestedHeadersPlugin = this.hot.getPlugin('nestedHeaders');\n      this.applyDataSource();\n    }\n    /**\n     * Prevents update settings loop when assigning the additional internal settings.\n     *\n     * @private\n     */\n  }, {\n    key: \"onUpdateSettings\",\n    value: function onUpdateSettings() {\n      if (this.internalUpdateSettings) {\n        this.applyRangeBarMetaCache();\n        return;\n      }\n      _get(_getPrototypeOf(GanttChart.prototype), \"onUpdateSettings\", this).call(this);\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.hotSource) {\n        this.dataFeed.removeSourceHotHooks(this.hotSource);\n      }\n      _get(_getPrototypeOf(GanttChart.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n  return GanttChart;\n}(BasePlugin);\nregisterPlugin('ganttChart', GanttChart);\nexport default GanttChart;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","BasePlugin","addClass","removeClass","objectEach","deepClone","extend","warn","createEmptySpreadsheetData","registerPlugin","getDateYear","parseDate","DateCalculator","GanttChartDataFeed","GanttChart","_BasePlugin","hotInstance","_this","settings","dateCalculator","currentYear","monthList","monthHeadersArray","weekHeadersArray","rangeBars","rangeList","nestedHeadersPlugin","hotSource","overallWeekSectionCount","initialSettings","dataFeed","colorData","rangeBarMeta","checkDependencies","hot","getSettings","colHeaders","isEnabled","ganttChart","enablePlugin","_this2","enabled","parseSettings","startYear","Date","getFullYear","year","allowSplitWeeks","hideDaysBeforeFullWeeks","hideDaysAfterFullWeeks","setFirstWeekDay","firstWeekDay","getMonthList","generateMonthHeaders","generateWeekHeaders","countWeekSections","assignGanttSettings","applyDataSource","setRangeBarColors","addHook","onAfterInit","rootElement","disablePlugin","internalUpdateSettings","removeSourceHotHooks","deassignGanttSettings","updatePlugin","weekHeaderGenerator","dataSource","source","loadData","startDateColumn","endDateColumn","additionalData","asyncUpdates","data","render","clearRangeBars","clearRangeList","getRangeBarCoordinates","row","arguments","undefined","generateHeaderSet","_this3","additionalSettings","readOnly","renderer","TD","col","prop","cellProperties","uniformBackgroundRenderer","colWidths","hiddenColumns","nestedHeaders","slice","collapsibleColumns","columnSorting","copyPaste","updateSettings","cacheRangeBarMeta","applyRangeBarMetaCache","_this4","rowArr","cell","setCellMeta","getAdjacentWeekColumn","date","following","previous","convertedDate","delta","adjacentWeek","setDate","getDate","dateToColumn","addRangeBar","startDate","endDate","_this5","prepareDaysInColumnsInfo","startMoved","endMoved","isValidRangeBarData","barLength","partialStart","isOnTheEdgeOfWeek","partialEnd","getYear","colors","renderRangeBar","daysInColumns","calculateWeekStructure","getRangeBarData","column","rangeBarCoords","rangeBarData","updateRangeBarData","rangeBar","val","currentBar","cellMeta","getCellMeta","newClassName","concat","className","removeRangeBarByDate","removeRangeBarByColumn","_this6","unrenderRangeBar","id","parseInt","JSON","stringify","removeAllRangeBars","_this7","bar","j","originalClassName","rangeBarInfo","innerHTML","titleValue","replace","title","style","background","rows","_this8","barCoords","setYear","newSettings","getPlugin","onUpdateSettings","destroy"],"sources":["C:/Users/mrezy/VSCode/internships-master/node_modules/handsontable/es/plugins/ganttChart/ganttChart.js"],"sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.concat\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.set-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.regexp.exec\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/es.string.replace\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport BasePlugin from '../_base';\nimport { addClass, removeClass } from '../../helpers/dom/element';\nimport { objectEach, deepClone, extend } from '../../helpers/object';\nimport { warn } from '../../helpers/console';\nimport { createEmptySpreadsheetData } from '../../helpers/data';\nimport { registerPlugin } from '../../plugins';\nimport { getDateYear, parseDate } from './utils';\nimport DateCalculator from './dateCalculator';\nimport GanttChartDataFeed from './ganttChartDataFeed';\n\n/**\n * @plugin GanttChart\n * @experimental\n * @dependencies CollapsibleColumns\n *\n * @description\n * GanttChart plugin enables a possibility to create a Gantt chart using a Handsontable instance.\n * In this case, the whole table becomes read-only.\n *\n * @example\n * ```js\n * ganttChart: {\n *     dataSource: data,\n *     firstWeekDay: 'monday', // Sets the first day of the week to either 'monday' or 'sunday'.\n *     startYear: 2015 // Sets the displayed year to the provided value.\n *     weekHeaderGenerator: function(start, end) { return start + ' - ' + end; } // sets the label on the week column headers (optional). The `start` and `end` arguments are numbers representing the beginning and end day of the week.\n *     allowSplitWeeks: true, // If set to `true` (default), will allow splitting week columns between months. If not, plugin will generate \"mixed\" months, like \"Jan/Feb\".\n *     hideDaysBeforeFullWeeks: false, // If set to `true`, the plugin won't render the incomplete weeks before the \"full\" weeks inside months.\n *     hideDaysAfterFullWeeks: false, // If set to `true`, the plugin won't render the incomplete weeks after the \"full\" weeks inside months.\n *   }\n *\n * // Where data can be either an data object or an object containing information about another Handsontable instance, which\n * // would feed the chart-enabled instance with data.\n * // For example:\n *\n * // Handsontable-binding information\n * var data = {\n *   instance: source, // reference to another Handsontable instance\n *   startDateColumn: 4, // index of a column, which contains information about start dates of data ranges\n *   endDateColumn: 5, // index of a column, which contains information about end dates of data ranges\n *   additionalData: { // information about additional data passed to the chart, in this example example:\n *     label: 0, // labels are stored in the first column\n *     quantity: 1 // quantity information is stored in the second column\n *   },\n *   asyncUpdates: true // if set to true, the updates from the source instance with be asynchronous. Defaults to false.\n * }\n *\n * // Data object\n * var data = [\n *   {\n *     additionalData: {label: 'Example label.', quantity: 'Four packs.'},\n *     startDate: '1/5/2015',\n *     endDate: '1/20/2015'\n *   },\n *   {\n *     additionalData: {label: 'Another label.', quantity: 'One pack.'},\n *     startDate: '1/11/2015',\n *     endDate: '1/29/2015'\n *   }\n * ];\n * ```\n */\nvar GanttChart =\n/*#__PURE__*/\nfunction (_BasePlugin) {\n  _inherits(GanttChart, _BasePlugin);\n\n  function GanttChart(hotInstance) {\n    var _this;\n\n    _classCallCheck(this, GanttChart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GanttChart).call(this, hotInstance));\n    /**\n     * Cached plugin settings.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.settings = {};\n    /**\n     * Date Calculator object.\n     *\n     * @private\n     * @type {DateCalculator}\n     */\n\n    _this.dateCalculator = null;\n    /**\n     * Currently loaded year.\n     *\n     * @private\n     * @type {Number}\n     */\n\n    _this.currentYear = null;\n    /**\n     * List of months and their corresponding day counts.\n     *\n     * @private\n     * @type {Array}\n     */\n\n    _this.monthList = [];\n    /**\n     * Array of data for the month headers.\n     *\n     * @private\n     * @type {Array}\n     */\n\n    _this.monthHeadersArray = [];\n    /**\n     * Array of data for the week headers.\n     *\n     * @private\n     * @type {Array}\n     */\n\n    _this.weekHeadersArray = [];\n    /**\n     * Object containing the currently created range bars, along with their corresponding parameters.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.rangeBars = {};\n    /**\n     * Object containing the currently created ranges with coordinates to their range bars.\n     * It's structure is categorized by years, so to get range bar information for a year, one must use `this.rangeList[year]`.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.rangeList = {};\n    /**\n     * Reference to the Nested Headers plugin.\n     *\n     * @private\n     * @type {NestedHeaders}\n     */\n\n    _this.nestedHeadersPlugin = null;\n    /**\n     * Object containing properties of the source Handsontable instance (the data source).\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.hotSource = null;\n    /**\n     * Number of week 'blocks' in the nested headers.\n     *\n     * @private\n     * @type {Number}\n     */\n\n    _this.overallWeekSectionCount = null;\n    /**\n     * Initial instance settings - used to rollback the gantt-specific settings during the disabling of the plugin.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.initialSettings = null;\n    /**\n     * Data feed controller for this plugin.\n     *\n     * @private\n     * @type {GanttChartDataFeed}\n     */\n\n    _this.dataFeed = null;\n    /**\n     * Color information set after applying colors to the chart.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.colorData = {};\n    /**\n     * Metadata of the range bars, used to re-apply meta after updating HOT settings.\n     *\n     * @private\n     * @type {Object}\n     */\n\n    _this.rangeBarMeta = Object.create(null);\n    return _this;\n  }\n  /**\n   * Check if the dependencies are met, if not, throws a warning.\n   */\n\n\n  _createClass(GanttChart, [{\n    key: \"checkDependencies\",\n    value: function checkDependencies() {\n      if (!this.hot.getSettings().colHeaders) {\n        warn('You need to enable the colHeaders property in your Gantt Chart Handsontable in order for it to work properly.');\n      }\n    }\n    /**\n     * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n     * hook and if it returns `true` than the {@link GanttChart#enablePlugin} method is called.\n     *\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return !!this.hot.getSettings().ganttChart;\n    }\n    /**\n     * Enables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"enablePlugin\",\n    value: function enablePlugin() {\n      var _this2 = this;\n\n      if (this.enabled) {\n        return;\n      }\n\n      this.checkDependencies();\n      this.parseSettings();\n      this.currentYear = this.settings.startYear || new Date().getFullYear();\n      this.dateCalculator = new DateCalculator({\n        year: this.currentYear,\n        allowSplitWeeks: this.settings.allowSplitWeeks,\n        hideDaysBeforeFullWeeks: this.settings.hideDaysBeforeFullWeeks,\n        hideDaysAfterFullWeeks: this.settings.hideDaysAfterFullWeeks\n      });\n      this.dateCalculator.setFirstWeekDay(this.settings.firstWeekDay);\n      this.monthList = this.dateCalculator.getMonthList();\n      this.monthHeadersArray = this.generateMonthHeaders();\n      this.weekHeadersArray = this.generateWeekHeaders();\n      this.overallWeekSectionCount = this.dateCalculator.countWeekSections();\n      this.assignGanttSettings();\n\n      if (this.nestedHeadersPlugin) {\n        this.applyDataSource();\n\n        if (this.colorData) {\n          this.setRangeBarColors(this.colorData);\n        }\n      }\n\n      this.addHook('afterInit', function () {\n        return _this2.onAfterInit();\n      });\n      addClass(this.hot.rootElement, 'ganttChart');\n\n      _get(_getPrototypeOf(GanttChart.prototype), \"enablePlugin\", this).call(this);\n    }\n    /**\n     * Disables the plugin functionality for this Handsontable instance.\n     */\n\n  }, {\n    key: \"disablePlugin\",\n    value: function disablePlugin() {\n      if (this.internalUpdateSettings) {\n        return;\n      }\n\n      if (this.dataFeed && this.dataFeed.hotSource) {\n        this.dataFeed.removeSourceHotHooks(this.dataFeed.hotSource);\n      }\n\n      this.settings = {};\n      this.dataFeed = {};\n      this.currentYear = null;\n      this.monthList = [];\n      this.rangeBars = {};\n      this.rangeList = {};\n      this.rangeBarMeta = {};\n      this.hotSource = null;\n      this.deassignGanttSettings();\n      removeClass(this.hot.rootElement, 'ganttChart');\n\n      _get(_getPrototypeOf(GanttChart.prototype), \"disablePlugin\", this).call(this);\n    }\n    /**\n     * Updates the plugin state. This method is executed when {@link Core#updateSettings} is invoked.\n     */\n\n  }, {\n    key: \"updatePlugin\",\n    value: function updatePlugin() {\n      this.disablePlugin();\n      this.enablePlugin();\n\n      _get(_getPrototypeOf(GanttChart.prototype), \"updatePlugin\", this).call(this);\n    }\n    /**\n     * Parses the plugin settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"parseSettings\",\n    value: function parseSettings() {\n      this.settings = this.hot.getSettings().ganttChart;\n\n      if (typeof this.settings === 'boolean') {\n        this.settings = {};\n      }\n\n      if (!this.settings.firstWeekDay) {\n        this.settings.firstWeekDay = 'monday';\n      }\n\n      if (this.settings.allowSplitWeeks === void 0) {\n        this.settings.allowSplitWeeks = true;\n      }\n\n      if (typeof this.settings.weekHeaderGenerator !== 'function') {\n        this.settings.weekHeaderGenerator = null;\n      }\n    }\n    /**\n     * Applies the data source provided in the plugin settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"applyDataSource\",\n    value: function applyDataSource() {\n      if (this.settings.dataSource) {\n        var source = this.settings.dataSource;\n\n        if (source.instance) {\n          this.loadData(source.instance, source.startDateColumn, source.endDateColumn, source.additionalData, source.asyncUpdates);\n        } else {\n          this.loadData(source);\n        }\n      }\n    }\n    /**\n     * Loads chart data to the Handsontable instance.\n     *\n     * @private\n     * @param {Array|Object} data Array of objects containing the range data OR another Handsontable instance, to be used as the data feed\n     * @param {Number} [startDateColumn] Index of the start date column (Needed only if the data argument is a HOT instance).\n     * @param {Number} [endDateColumn] Index of the end date column (Needed only if the data argument is a HOT instance).\n     * @param {Object} [additionalData] Object containing additional data labels and their corresponding column indexes (Needed only if the data argument is a HOT instance).\n     *\n     */\n\n  }, {\n    key: \"loadData\",\n    value: function loadData(data, startDateColumn, endDateColumn, additionalData, asyncUpdates) {\n      this.dataFeed = new GanttChartDataFeed(this.hot, data, startDateColumn, endDateColumn, additionalData, asyncUpdates);\n      this.hot.render();\n    }\n    /**\n     * Clears the range bars list.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"clearRangeBars\",\n    value: function clearRangeBars() {\n      this.rangeBars = {};\n    }\n    /**\n     * Clears the range list.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"clearRangeList\",\n    value: function clearRangeList() {\n      this.rangeList = {};\n    }\n    /**\n     * Returns a range bar coordinates by the provided row.\n     *\n     * @param {Number} row Range bar's row.\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getRangeBarCoordinates\",\n    value: function getRangeBarCoordinates(row) {\n      return this.rangeList[row];\n    }\n    /**\n     * Generates the month header structure.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"generateMonthHeaders\",\n    value: function generateMonthHeaders() {\n      var year = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentYear;\n      return this.dateCalculator.generateHeaderSet('months', this.settings.weekHeaderGenerator, year);\n    }\n    /**\n     * Generates the week header structure.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"generateWeekHeaders\",\n    value: function generateWeekHeaders() {\n      var year = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentYear;\n      return this.dateCalculator.generateHeaderSet('weeks', this.settings.weekHeaderGenerator, year);\n    }\n    /**\n     * Assigns the settings needed for the Gantt Chart plugin into the Handsontable instance.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"assignGanttSettings\",\n    value: function assignGanttSettings() {\n      var _this3 = this;\n\n      // TODO: commented out temporarily, to be fixed in #68, there's a problem with re-enabling the gantt settings after resetting them\n      // this.initialSettings = {\n      //   data: this.hot.getSettings().data,\n      //   readOnly: this.hot.getSettings().readOnly,\n      //   renderer: this.hot.getSettings().renderer,\n      //   colWidths: this.hot.getSettings().colWidths,\n      //   hiddenColumns: this.hot.getSettings().hiddenColumns,\n      //   nestedHeaders: this.hot.getSettings().nestedHeaders,\n      //   collapsibleColumns: this.hot.getSettings().collapsibleColumns,\n      //   columnSorting: this.hot.getSettings().columnSorting,\n      // };\n      this.initialSettings = deepClone(this.hot.getSettings());\n      var additionalSettings = {\n        data: createEmptySpreadsheetData(1, this.overallWeekSectionCount),\n        readOnly: true,\n        renderer: function renderer(instance, TD, row, col, prop, value, cellProperties) {\n          return _this3.uniformBackgroundRenderer(instance, TD, row, col, prop, value, cellProperties);\n        },\n        colWidths: 60,\n        hiddenColumns: this.hot.getSettings().hiddenColumns ? this.hot.getSettings().hiddenColumns : true,\n        nestedHeaders: [this.monthHeadersArray.slice(), this.weekHeadersArray.slice()],\n        collapsibleColumns: this.hot.getSettings().collapsibleColumns ? this.hot.getSettings().collapsibleColumns : true,\n        columnSorting: false,\n        copyPaste: false\n      };\n      this.internalUpdateSettings = true;\n      this.hot.updateSettings(additionalSettings);\n      this.internalUpdateSettings = void 0;\n    }\n    /**\n     * Deassigns the Gantt Chart plugin settings (revert to initial settings).\n     *\n     * @private\n     */\n\n  }, {\n    key: \"deassignGanttSettings\",\n    value: function deassignGanttSettings() {\n      this.internalUpdateSettings = true;\n\n      if (this.initialSettings) {\n        this.hot.updateSettings(this.initialSettings);\n      }\n\n      this.internalUpdateSettings = void 0;\n    }\n    /**\n     * Add rangebar meta data to the cache.\n     *\n     * @param {Number} row\n     * @param {Number} col\n     * @param {String} key\n     * @param {String|Number|Object|Array} value\n     */\n\n  }, {\n    key: \"cacheRangeBarMeta\",\n    value: function cacheRangeBarMeta(row, col, key, value) {\n      if (!this.rangeBarMeta[row]) {\n        this.rangeBarMeta[row] = {};\n      }\n\n      if (!this.rangeBarMeta[row][col]) {\n        this.rangeBarMeta[row][col] = {};\n      }\n\n      this.rangeBarMeta[row][col][key] = value;\n    }\n    /**\n     * Applies the cached cell meta.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"applyRangeBarMetaCache\",\n    value: function applyRangeBarMetaCache() {\n      var _this4 = this;\n\n      objectEach(this.rangeBarMeta, function (rowArr, row) {\n        objectEach(rowArr, function (cell, col) {\n          objectEach(cell, function (value, key) {\n            _this4.hot.setCellMeta(row, col, key, value);\n          });\n        });\n      });\n    }\n    /**\n     * Get the column index of the adjacent week.\n     *\n     * @private\n     * @param {Date|String} date The date object/string.\n     * @param {Boolean} following `true` if the following week is needed.\n     * @param {Boolean} previous `true` if the previous week is needed.\n     */\n\n  }, {\n    key: \"getAdjacentWeekColumn\",\n    value: function getAdjacentWeekColumn(date, following, previous) {\n      var convertedDate = parseDate(date);\n      var delta = previous === true ? -7 : 7;\n      var adjacentWeek = convertedDate.setDate(convertedDate.getDate() + delta);\n      return this.dateCalculator.dateToColumn(adjacentWeek);\n    }\n    /**\n     * Create a new range bar.\n     *\n     * @param {Number} row Row index.\n     * @param {Date|String} startDate Start date object/string.\n     * @param {Date|String} endDate End date object/string.\n     * @param {Object} additionalData Additional range data.\n     * @returns {Array|Boolean} Array of the bar's row and column.\n     */\n\n  }, {\n    key: \"addRangeBar\",\n    value: function addRangeBar(row, startDate, endDate, additionalData) {\n      var _this5 = this;\n\n      if (startDate !== null && endDate !== null) {\n        this.prepareDaysInColumnsInfo(parseDate(startDate), parseDate(endDate));\n      }\n\n      var startDateColumn = this.dateCalculator.dateToColumn(startDate);\n      var endDateColumn = this.dateCalculator.dateToColumn(endDate);\n      var year = getDateYear(startDate); // every range bar should not exceed the limits of one year\n\n      var startMoved = false;\n      var endMoved = false;\n\n      if (startDateColumn === null && this.settings.hideDaysBeforeFullWeeks) {\n        startDateColumn = this.getAdjacentWeekColumn(startDate, true, false);\n\n        if (startDateColumn !== false) {\n          startMoved = true;\n        }\n      }\n\n      if (endDateColumn === null && this.settings.hideDaysAfterFullWeeks) {\n        endDateColumn = this.getAdjacentWeekColumn(endDate, false, true);\n\n        if (endDateColumn !== false) {\n          endMoved = true;\n        }\n      }\n\n      if (!this.dateCalculator.isValidRangeBarData(startDate, endDate) || startDateColumn === false || endDateColumn === false) {\n        return false;\n      }\n\n      if (!this.rangeBars[year]) {\n        this.rangeBars[year] = {};\n      }\n\n      if (!this.rangeBars[year][row]) {\n        this.rangeBars[year][row] = {};\n      }\n\n      this.rangeBars[year][row][startDateColumn] = {\n        barLength: endDateColumn - startDateColumn + 1,\n        partialStart: startMoved ? false : !this.dateCalculator.isOnTheEdgeOfWeek(startDate)[0],\n        partialEnd: endMoved ? false : !this.dateCalculator.isOnTheEdgeOfWeek(endDate)[1],\n        additionalData: {}\n      };\n      objectEach(additionalData, function (prop, i) {\n        _this5.rangeBars[year][row][startDateColumn].additionalData[i] = prop;\n      });\n\n      if (year === this.dateCalculator.getYear()) {\n        if (this.colorData[row]) {\n          this.rangeBars[year][row][startDateColumn].colors = this.colorData[row];\n        }\n\n        this.rangeList[row] = [row, startDateColumn];\n        this.renderRangeBar(row, startDateColumn, endDateColumn, additionalData);\n      }\n\n      return [row, startDateColumn];\n    }\n    /**\n     * Generates the information about which date is represented in which column.\n     *\n     * @private\n     * @param {Date} startDate Start date.\n     * @param {Date} endDate End Date.\n     */\n\n  }, {\n    key: \"prepareDaysInColumnsInfo\",\n    value: function prepareDaysInColumnsInfo(startDate, endDate) {\n      for (var i = startDate.getFullYear(); i <= endDate.getFullYear(); i++) {\n        if (this.dateCalculator.daysInColumns[i] === void 0) {\n          this.dateCalculator.calculateWeekStructure(i);\n          this.dateCalculator.generateHeaderSet('weeks', null, i);\n        }\n      }\n    }\n    /**\n     * Returns the range bar data of the provided row and column.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @returns {Object|Boolean} Returns false if no bar is found.\n     */\n\n  }, {\n    key: \"getRangeBarData\",\n    value: function getRangeBarData(row, column) {\n      var year = this.dateCalculator.getYear();\n      var rangeBarCoords = this.getRangeBarCoordinates(row);\n\n      if (!rangeBarCoords) {\n        return false;\n      }\n\n      var rangeBarData = this.rangeBars[year][rangeBarCoords[0]][rangeBarCoords[1]];\n\n      if (rangeBarData && row === rangeBarCoords[0] && (column === rangeBarCoords[1] || column > rangeBarCoords[1] && column < rangeBarCoords[1] + rangeBarData.barLength)) {\n        return rangeBarData;\n      }\n\n      return false;\n    }\n    /**\n     * Updates the range bar data by the provided object.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} column Column index.\n     * @param {Object} data Object with the updated data.\n     */\n\n  }, {\n    key: \"updateRangeBarData\",\n    value: function updateRangeBarData(row, column, data) {\n      var rangeBar = this.getRangeBarData(row, column);\n      objectEach(data, function (val, prop) {\n        if (rangeBar[prop] !== val) {\n          rangeBar[prop] = val;\n        }\n      });\n    }\n    /**\n     * Adds a range bar to the table.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} startDateColumn Start column index.\n     * @param {Number} endDateColumn End column index.\n     */\n\n  }, {\n    key: \"renderRangeBar\",\n    value: function renderRangeBar(row, startDateColumn, endDateColumn) {\n      var year = this.dateCalculator.getYear();\n      var currentBar = this.rangeBars[year][row][startDateColumn];\n\n      for (var i = startDateColumn; i <= endDateColumn; i++) {\n        var cellMeta = this.hot.getCellMeta(row, i);\n        var newClassName = \"\".concat(cellMeta.className || '', \" rangeBar\");\n\n        if (i === startDateColumn && currentBar.partialStart || i === endDateColumn && currentBar.partialEnd) {\n          newClassName += ' partial';\n        }\n\n        if (i === endDateColumn) {\n          newClassName += ' last';\n        }\n\n        this.hot.setCellMeta(row, i, 'originalClassName', cellMeta.className);\n        this.hot.setCellMeta(row, i, 'className', newClassName);\n        this.hot.setCellMeta(row, i, 'additionalData', currentBar.additionalData); // cache cell meta, used for updateSettings, related with a cell meta bug\n\n        this.cacheRangeBarMeta(row, i, 'originalClassName', cellMeta.className);\n        this.cacheRangeBarMeta(row, i, 'className', newClassName);\n        this.cacheRangeBarMeta(row, i, 'additionalData', currentBar.additionalData);\n      }\n    }\n    /**\n     * Removes a range bar of the provided start date and row.\n     *\n     * @param {Number} row Row index.\n     * @param {Date|String} startDate Start date.\n     */\n\n  }, {\n    key: \"removeRangeBarByDate\",\n    value: function removeRangeBarByDate(row, startDate) {\n      var startDateColumn = this.dateCalculator.dateToColumn(startDate);\n      this.removeRangeBarByColumn(row, startDateColumn);\n    }\n    /**\n     * Removes a range bar of the provided row and start column.\n     *\n     * @param {Number} row Row index.\n     * @param {Number} startDateColumn Column index.\n     */\n\n  }, {\n    key: \"removeRangeBarByColumn\",\n    value: function removeRangeBarByColumn(row, startDateColumn) {\n      var _this6 = this;\n\n      var year = this.dateCalculator.getYear();\n      var rangeBar = this.rangeBars[year][row][startDateColumn];\n\n      if (!rangeBar) {\n        return;\n      }\n\n      this.unrenderRangeBar(row, startDateColumn, startDateColumn + rangeBar.barLength - 1);\n      this.rangeBars[year][row][startDateColumn] = null;\n      objectEach(this.rangeList, function (prop, i) {\n        var id = parseInt(i, 10);\n\n        if (JSON.stringify(prop) === JSON.stringify([row, startDateColumn])) {\n          _this6.rangeList[id] = null;\n        }\n      });\n    }\n    /**\n     * Removes all range bars from the chart-enabled Handsontable instance.\n     */\n\n  }, {\n    key: \"removeAllRangeBars\",\n    value: function removeAllRangeBars() {\n      var _this7 = this;\n\n      objectEach(this.rangeBars, function (row, i) {\n        objectEach(row, function (bar, j) {\n          _this7.removeRangeBarByColumn(i, j);\n        });\n      });\n    }\n    /**\n     * Removes a range bar from the table.\n     *\n     * @private\n     * @param {Number} row Row index.\n     * @param {Number} startDateColumn Start column index.\n     * @param {Number} endDateColumn End column index.\n     */\n\n  }, {\n    key: \"unrenderRangeBar\",\n    value: function unrenderRangeBar(row, startDateColumn, endDateColumn) {\n      for (var i = startDateColumn; i <= endDateColumn; i++) {\n        var cellMeta = this.hot.getCellMeta(row, i);\n        this.hot.setCellMeta(row, i, 'className', cellMeta.originalClassName);\n        this.hot.setCellMeta(row, i, 'originalClassName', void 0);\n        this.cacheRangeBarMeta(row, i, 'className', cellMeta.originalClassName);\n        this.cacheRangeBarMeta(row, i, 'originalClassName', void 0);\n      }\n\n      this.hot.render();\n    }\n    /**\n     * A default renderer of the range bars.\n     *\n     * @private\n     * @param {Object} instance HOT instance.\n     * @param {HTMLElement} TD TD element.\n     * @param {Number} row Row index.\n     * @param {Number} col Column index.\n     * @param {String|Number} prop Object data property.\n     * @param {String|Number} value Value to pass to the cell.\n     * @param {Object} cellProperties Current cell properties.\n     */\n\n  }, {\n    key: \"uniformBackgroundRenderer\",\n    value: function uniformBackgroundRenderer(instance, TD, row, col, prop, value, cellProperties) {\n      var rangeBarInfo = this.getRangeBarData(row, col);\n      var rangeBarCoords = this.getRangeBarCoordinates(row);\n      TD.innerHTML = '';\n\n      if (cellProperties.className) {\n        TD.className = cellProperties.className;\n      }\n\n      var titleValue = '';\n      objectEach(cellProperties.additionalData, function (cellMeta, i) {\n        titleValue += \"\".concat(i, \": \").concat(cellMeta, \"\\n\");\n      });\n      titleValue = titleValue.replace(/\\n$/, '');\n      TD.title = titleValue;\n\n      if (rangeBarInfo && rangeBarInfo.colors) {\n        if (col === rangeBarCoords[1] && rangeBarInfo.partialStart || col === rangeBarCoords[1] + rangeBarInfo.barLength - 1 && rangeBarInfo.partialEnd) {\n          TD.style.background = rangeBarInfo.colors[1];\n        } else {\n          TD.style.background = rangeBarInfo.colors[0];\n        }\n      } else {\n        TD.style.background = '';\n      }\n    }\n    /**\n     * Sets range bar colors.\n     *\n     * @param {Object} rows Object containing row color data, see example.\n     * @example\n     * ```js\n     *  hot.getPlugin('ganttChart').setRangeBarColors({\n     *    0: ['blue', 'lightblue'] // paints the bar in the first row blue, with partial sections colored light blue\n      *   2: ['#2A74D0', '#588DD0'] // paints the bar in the thrid row with #2A74D0, with partial sections colored with #588DD0\n     *  });\n     * ```\n     */\n\n  }, {\n    key: \"setRangeBarColors\",\n    value: function setRangeBarColors(rows) {\n      var _this8 = this;\n\n      this.colorData = rows;\n      objectEach(rows, function (colors, i) {\n        var barCoords = _this8.getRangeBarCoordinates(i);\n\n        if (barCoords) {\n          _this8.updateRangeBarData(barCoords[0], barCoords[1], {\n            colors: colors\n          });\n        }\n      });\n      this.hot.render();\n    }\n    /**\n     * Updates the chart with a new year.\n     *\n     * @param {Number} year New chart year.\n     */\n\n  }, {\n    key: \"setYear\",\n    value: function setYear(year) {\n      var newSettings = extend(this.hot.getSettings().ganttChart, {\n        startYear: year\n      });\n      this.hot.updateSettings({\n        ganttChart: newSettings\n      });\n    }\n    /**\n     * AfterInit hook callback.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onAfterInit\",\n    value: function onAfterInit() {\n      this.nestedHeadersPlugin = this.hot.getPlugin('nestedHeaders');\n      this.applyDataSource();\n    }\n    /**\n     * Prevents update settings loop when assigning the additional internal settings.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onUpdateSettings\",\n    value: function onUpdateSettings() {\n      if (this.internalUpdateSettings) {\n        this.applyRangeBarMetaCache();\n        return;\n      }\n\n      _get(_getPrototypeOf(GanttChart.prototype), \"onUpdateSettings\", this).call(this);\n    }\n    /**\n     * Destroys the plugin instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.hotSource) {\n        this.dataFeed.removeSourceHotHooks(this.hotSource);\n      }\n\n      _get(_getPrototypeOf(GanttChart.prototype), \"destroy\", this).call(this);\n    }\n  }]);\n\n  return GanttChart;\n}(BasePlugin);\n\nregisterPlugin('ganttChart', GanttChart);\nexport default GanttChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}