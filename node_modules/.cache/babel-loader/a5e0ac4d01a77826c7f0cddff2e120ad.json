{"ast":null,"code":"import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.includes\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.includes\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nimport { addClass, hasClass, removeClass, getComputedStyle, getTrimmingContainer, innerWidth, innerHeight, offset, outerHeight, outerWidth } from './../../../helpers/dom/element';\nimport { stopImmediatePropagation } from './../../../helpers/dom/event';\nimport { objectEach } from './../../../helpers/object';\nimport { isMobileBrowser } from './../../../helpers/browser';\nimport EventManager from './../../../eventManager';\nimport CellCoords from './cell/coords';\n/**\n *\n */\n\nvar Border = /*#__PURE__*/\nfunction () {\n  /**\n   * @param {Walkontable} wotInstance\n   * @param {Object} settings\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n    if (!settings) {\n      return;\n    }\n    this.eventManager = new EventManager(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    };\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events\n   */\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n      var _loop = function _loop(c, len) {\n        _this2.eventManager.addEventListener(_this2.main.childNodes[c], 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener\n     *\n     * @private\n     */\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener\n     *\n     * @private\n     */\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n      event.preventDefault();\n      stopImmediatePropagation(event);\n      var _this = this;\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n          parentElement.style.display = 'block';\n        }\n      }\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements\n     *\n     * @param {Object} settings\n     */\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n      if (isMobileBrowser()) {\n        this.createMultipleSelectorHandles();\n      }\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices\n     */\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      objectEach(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      objectEach(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells\n     *\n     * @param {Array} corners\n     */\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n      var _this$wot = this.wot,\n        wtTable = _this$wot.wtTable,\n        rootDocument = _this$wot.rootDocument,\n        rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowsCount = wtTable.getRenderedRowsCount();\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          break;\n        }\n      }\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n      var columnsCount = wtTable.getRenderedColumnsCount();\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          break;\n        }\n      }\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n      var fromTD = wtTable.getCell(new CellCoords(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new CellCoords(toRow, toColumn)) : fromTD;\n      var fromOffset = offset(fromTD);\n      var toOffset = isMultiple ? offset(toTD) : fromOffset;\n      var containerOffset = offset(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + outerWidth(toTD) - minLeft;\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, containerOffset);\n        var fromTH = null;\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + outerHeight(toTD) - minTop;\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, containerOffset);\n        var _fromTH = null;\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n      var style = getComputedStyle(fromTD, rootWindow);\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n        checkCol = toColumn;\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n      if (isMobileBrowser() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height - 4, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width - 4, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = getTrimmingContainer(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + outerWidth(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= innerWidth(trimmingContainer);\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width - 3 - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\");\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + outerHeight(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n          var _cornerOverlappingContainer = cornerBottomEdge >= innerHeight(trimmingContainer);\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height - 3 - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\");\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n        this.cornerStyle.display = 'block';\n      }\n      if (isMobileBrowser()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {Number} startRowIndex Start row index.\n     * @param {Number} endRowIndex End row index.\n     */\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {Number} startColumnIndex Start column index.\n     * @param {Number} endColumnIndex End column index.\n     */\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {String} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {Number} fromIndex Start index of the selection.\n     * @param {Number} toIndex End index of the selection.\n     * @param {Number} containerOffset offset of the container.\n     * @return {Array|Boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n          dimensionFn = function dimensionFn() {\n            return outerHeight.apply(void 0, arguments);\n          };\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n          dimensionFn = function dimensionFn() {\n            return outerWidth.apply(void 0, arguments);\n          };\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n        default:\n      }\n      if (rootHotElement.className.includes(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - 1);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - 1);\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n        var startHeaderOffset = offset(startHeader);\n        var endOffset = offset(endHeader);\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n        return [startHeader, index, dimension];\n      }\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     */\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n      if (!borderStyle || borderStyle.hide) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        if (hasClass(this[borderElement], 'hidden')) {\n          removeClass(this[borderElement], 'hidden');\n        }\n        style.backgroundColor = borderStyle.color;\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {HTMLElement} position\n     */\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @return {Boolean}\n     */\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n      if (remove) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        removeClass(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border\n     */\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n      if (isMobileBrowser()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n  return Border;\n}();\nexport default Border;","map":{"version":3,"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","addClass","hasClass","removeClass","getComputedStyle","getTrimmingContainer","innerWidth","innerHeight","offset","outerHeight","outerWidth","stopImmediatePropagation","objectEach","isMobileBrowser","EventManager","CellCoords","Border","wotInstance","settings","eventManager","wot","mouseDown","main","top","left","bottom","right","topStyle","leftStyle","bottomStyle","rightStyle","cornerDefaultStyle","width","height","borderWidth","borderStyle","borderColor","corner","cornerStyle","createBorders","registerListeners","_this2","documentBody","rootDocument","body","addEventListener","onMouseDown","onMouseUp","_loop","c","len","childNodes","event","onMouseEnter","parentElement","getSetting","preventDefault","_this","bounds","getBoundingClientRect","style","display","isOutside","mouseEvent","clientY","Math","floor","ceil","clientX","handler","handlerEvent","removeEventListener","createElement","borderDivs","position","div","className","concat","hide","backgroundColor","color","border","appendChild","join","createMultipleSelectorHandles","disappear","wtTable","bordersHolder","spreader","_this3","selectionHandles","topLeft","topLeftHitArea","bottomRight","bottomRightHitArea","hitAreaWidth","styles","hitAreaStyle","parseInt","handleStyle","background","isPartRange","row","col","areaSelection","selections","createOrGetArea","cellRange","to","updateMultipleSelectionHandlesPosition","handleWidth","cornerVisible","wtSettings","zIndex","appear","corners","disabled","_this$wot","rootWindow","fromRow","toRow","fromColumn","toColumn","rowsCount","getRenderedRowsCount","s","rowFilter","renderedToSource","columnsCount","getRenderedColumnsCount","_i2","_s2","columnFilter","_i3","_s3","fromTD","getCell","isMultiple","toTD","fromOffset","toOffset","containerOffset","TABLE","minTop","minLeft","isEntireColumnSelected","modifiedValues","getDimensionsFromHeader","fromTH","_modifiedValues","isEntireRowSelected","_modifiedValues2","_fromTH","_modifiedValues3","borderTopWidth","borderLeftWidth","delta","cornerVisibleSetting","layerLevel","hookResult","checkRow","checkCol","_hookResult","borderRightWidth","trimmingContainer","trimToWindow","documentElement","toTdOffsetLeft","offsetLeft","cornerRightEdge","cornerOverlappingContainer","toTdOffsetTop","offsetTop","cornerBottomEdge","_cornerOverlappingContainer","borderBottomWidth","startRowIndex","endRowIndex","getFirstRenderedRow","getLastRenderedRow","startColumnIndex","endColumnIndex","getFirstRenderedColumn","getLastRenderedColumn","direction","fromIndex","toIndex","rootHotElement","wtRootElement","parentNode","getHeaderFn","dimensionFn","entireSelectionClassname","index","dimension","dimensionProperty","startHeader","endHeader","getRowHeader","apply","arguments","getColumnHeader","includes","columnHeaderLevelCount","startHeaderOffset","endOffset","changeBorderStyle","borderElement","changeBorderToDefaultStyle","defaultBorder","toggleHiddenClass","remove","destroy","destroyWithOwnEventsOnly","removeChild"],"sources":["C:/Users/mrezy/VSCode/internships-master/node_modules/handsontable/es/3rdparty/walkontable/src/border.js"],"sourcesContent":["import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.includes\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.array.join\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.string.includes\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { addClass, hasClass, removeClass, getComputedStyle, getTrimmingContainer, innerWidth, innerHeight, offset, outerHeight, outerWidth } from './../../../helpers/dom/element';\nimport { stopImmediatePropagation } from './../../../helpers/dom/event';\nimport { objectEach } from './../../../helpers/object';\nimport { isMobileBrowser } from './../../../helpers/browser';\nimport EventManager from './../../../eventManager';\nimport CellCoords from './cell/coords';\n/**\n *\n */\n\nvar Border =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {Walkontable} wotInstance\n   * @param {Object} settings\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n\n    if (!settings) {\n      return;\n    }\n\n    this.eventManager = new EventManager(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    };\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events\n   */\n\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n\n      var _loop = function _loop(c, len) {\n        _this2.eventManager.addEventListener(_this2.main.childNodes[c], 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n\n      event.preventDefault();\n      stopImmediatePropagation(event);\n\n      var _this = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n\n          parentElement.style.display = 'block';\n        }\n      }\n\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements\n     *\n     * @param {Object} settings\n     */\n\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n\n      if (isMobileBrowser()) {\n        this.createMultipleSelectorHandles();\n      }\n\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices\n     */\n\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      objectEach(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      objectEach(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells\n     *\n     * @param {Array} corners\n     */\n\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n\n      var _this$wot = this.wot,\n          wtTable = _this$wot.wtTable,\n          rootDocument = _this$wot.rootDocument,\n          rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowsCount = wtTable.getRenderedRowsCount();\n\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          break;\n        }\n      }\n\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n\n      var columnsCount = wtTable.getRenderedColumnsCount();\n\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          break;\n        }\n      }\n\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n\n      var fromTD = wtTable.getCell(new CellCoords(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new CellCoords(toRow, toColumn)) : fromTD;\n      var fromOffset = offset(fromTD);\n      var toOffset = isMultiple ? offset(toTD) : fromOffset;\n      var containerOffset = offset(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + outerWidth(toTD) - minLeft;\n\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, containerOffset);\n        var fromTH = null;\n\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + outerHeight(toTD) - minTop;\n\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, containerOffset);\n\n        var _fromTH = null;\n\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n\n      var style = getComputedStyle(fromTD, rootWindow);\n\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n          checkCol = toColumn;\n\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n\n      if (isMobileBrowser() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height - 4, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width - 4, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = getTrimmingContainer(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + outerWidth(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= innerWidth(trimmingContainer);\n\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width - 3 - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\");\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + outerHeight(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n\n          var _cornerOverlappingContainer = cornerBottomEdge >= innerHeight(trimmingContainer);\n\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height - 3 - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\");\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n\n        this.cornerStyle.display = 'block';\n      }\n\n      if (isMobileBrowser()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {Number} startRowIndex Start row index.\n     * @param {Number} endRowIndex End row index.\n     */\n\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {Number} startColumnIndex Start column index.\n     * @param {Number} endColumnIndex End column index.\n     */\n\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {String} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {Number} fromIndex Start index of the selection.\n     * @param {Number} toIndex End index of the selection.\n     * @param {Number} containerOffset offset of the container.\n     * @return {Array|Boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerHeight.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return outerWidth.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n\n        default:\n      }\n\n      if (rootHotElement.className.includes(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - 1);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - 1);\n\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n\n        var startHeaderOffset = offset(startHeader);\n        var endOffset = offset(endHeader);\n\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n\n        return [startHeader, index, dimension];\n      }\n\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     */\n\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n\n      if (!borderStyle || borderStyle.hide) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        if (hasClass(this[borderElement], 'hidden')) {\n          removeClass(this[borderElement], 'hidden');\n        }\n\n        style.backgroundColor = borderStyle.color;\n\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {HTMLElement} position\n     */\n\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n\n      if (remove) {\n        addClass(this[borderElement], 'hidden');\n      } else {\n        removeClass(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border\n     */\n\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n\n      if (isMobileBrowser()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n\n  return Border;\n}();\n\nexport default Border;"],"mappings":"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"},"metadata":{},"sourceType":"module"}